{
	"info": {
		"_postman_id": "e8f19423-7b37-42a8-9efb-8dc209b9952c",
		"name": "RBS-Functional Tests-ICE-MGMRI-NYNY-web",
		"description": "RBS-ACRS-Functional Test ",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "token",
			"item": [
				{
					"name": "JWT auth",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"JWT auth | Status code is 200 with valid response body\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData).to.have.property(\"token_type\");",
									"    pm.expect(jsonData).to.have.property(\"access_token\");",
									"});",
									"",
									"postman.setEnvironmentVariable(\"JWT_Token\", \"Bearer \" + pm.response.json().access_token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require('moment');\r",
									"\r",
									"/*Construct Random Dates [for availability] from 60 days to 360*/\r",
									"start = new Date(moment().add(60, 'days'));\r",
									"end = new Date(moment().add(360, 'days'));\r",
									"\r",
									"options = { day: '2-digit', month: '2-digit', year: 'numeric' };\r",
									"//setting options to overcome single digit for dates/month.\r",
									"\r",
									"checkInDate = randomDate(start, end).toLocaleDateString(\"en-US\", options);\r",
									"checkOutDate = moment(checkInDate).add(2, 'days').format('MM/DD/YYYY');\r",
									"\r",
									"postman.setEnvironmentVariable('checkInDate',  checkInDate);\r",
									"postman.setEnvironmentVariable('checkOutDate',  checkOutDate);\r",
									"\r",
									"postman.setEnvironmentVariable('invalidCheckInDate',   moment().add(-1, 'days').format('MM/DD/YYYY'));\r",
									"postman.setEnvironmentVariable('invalidCheckOutDate',  moment().add(-2, 'days').format('MM/DD/YYYY'));\r",
									"\r",
									"checkInDate_v2 = randomDate(start, end).toLocaleDateString(\"fr-CA\", options);\r",
									"checkInDate_v2_format = moment(checkInDate_v2).format('YYYY-MM-DD');\r",
									"checkOutDate_v2 = moment(checkInDate_v2_format).add(2, 'days').format('YYYY-MM-DD');\r",
									"\r",
									"postman.setEnvironmentVariable('checkInDate_v2',  checkInDate_v2_format);\r",
									"postman.setEnvironmentVariable('checkOutDate_v2',  checkOutDate_v2);\r",
									"\r",
									"postman.setEnvironmentVariable('invalidCheckInDate_v2',   moment().add(-1, 'days').format('YYYY-MM-DD'));\r",
									"postman.setEnvironmentVariable('invalidCheckOutDate_v2',  moment().add(-2, 'days').format('YYYY-MM-DD'));\r",
									"\r",
									"function randomDate(start, end) {\r",
									"    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()))\r",
									"}\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "{{IDMS_grantType}}",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "{{IDMS_clientId}}",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "{{IDMS_clientSecret}}",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "{{IDMS_scopes}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{APIM_Endpoint}}{{IDMS_authEndpoint}}",
							"protocol": "https",
							"host": [
								"{{APIM_Endpoint}}{{IDMS_authEndpoint}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ICE-ICE",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "ICE Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('iceRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Calendar price v2 GroupCode",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);",
											"postman.setEnvironmentVariable('firstName',  firstName);",
											"postman.setEnvironmentVariable('lastName',  \"pman\");",
											"",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;",
											"postman.setEnvironmentVariable('phone',  phone);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/iata/organizations?orgName={{validOrgName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('icePropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\t\"programId\": \"{{iceProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('icePropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\t\"programId\": \"{{iceProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{icePropertyIdTransient}}\",\r\n\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\"programId\": \"{{iceProgramId}}\",\r\n    \"confirmationNumber\": \"{{iceConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{iceCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"iceConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{iceReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{iceCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{icePropertyIdTransient}}\",\r\n\t    \"confirmationNumber\": {{iceConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{iceItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\t\"programId\": \"{{iceProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{iceReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{iceItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{icePropertyIdTransient}}\",\r\n  \"confirmationNumber\": \"{{iceConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Find Reservation V2 Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{iceConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{iceConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{iceCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{iceItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{iceConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{iceReservationIdTransient}}\",\r\n        \"propertyId\": \"{{icePropertyIdTransient}}\",\r\n        \"itineraryId\": \"{{iceItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "ICE Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('iceRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true&mlifeNumber=79664267",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "79664267"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "79664267",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Calendar price v2 GroupCode PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Offers PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);",
											"postman.setEnvironmentVariable('firstName',  firstName);",
											"postman.setEnvironmentVariable('lastName',  \"pman\");",
											"",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;",
											"postman.setEnvironmentVariable('phone',  phone);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('icePropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdPO',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('icePropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{icePropertyIdPO}}\",\r\n    \"programId\": \"{{iceProgramId}}\",\r\n    \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n    \"confirmationNumber\": {{iceConfirmationNumberPO}},\r\n    \"customerId\": \"{{iceCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_PO}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"iceConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{iceReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{iceCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{icePropertyIdPO}}\",\r\n\t        \"confirmationNumber\": {{iceConfirmationNumberPO}},\r\n        \"itineraryId\": {{iceItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\t\"programId\": \"{{iceProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{iceReservationIdPO}}\",\r\n  \"itineraryId\": \"{{iceItineraryIdPO}}\",\r\n  \"propertyId\": \"{{icePropertyIdPO}}\",\r\n  \"confirmationNumber\": \"{{iceConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{iceConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{iceConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{iceCustomerIdPO}}\",\n\t\"itineraryId\": \"{{iceItineraryIdPO}}\",\n\t\"confirmationNumber\": {{iceConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation/cancel",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{iceReservationIdPO}}\",\r\n        \"propertyId\": \"{{icePropertyIdPO}}\",\r\n        \"itineraryId\": \"{{iceItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{iceConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_PO}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "ICE Single Availability v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('iceRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Calendar price v2 GroupCode Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Offers Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Components Availability Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);",
											"postman.setEnvironmentVariable('firstName',  firstName);",
											"postman.setEnvironmentVariable('lastName',  \"pman\");",
											"",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;",
											"postman.setEnvironmentVariable('phone',  phone);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('icePropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdFallback',  customerId);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdFallback',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('iceConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('iceItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('iceReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('icePropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('iceCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{icePropertyIdFallback}}\",\r\n    \"programId\": \"{{iceProgramId}}\",\r\n    \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n    \"confirmationNumber\": {{iceConfirmationNumberFallback}},\r\n    \"customerId\": \"{{iceCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_Fallback}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"iceConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{iceReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{iceCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{icePropertyIdFallback}}\",\r\n\t        \"confirmationNumber\": {{iceConfirmationNumberFallback}},\r\n        \"itineraryId\": {{iceItineraryIdFallback}},\r\n\t\t\"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n\t\t\"programId\": \"{{iceProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{iceReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{iceItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{icePropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{iceConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{iceConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{iceConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"iceConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{iceCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{iceItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{iceConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "ICE ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-ice}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-ice}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-ice}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-ice}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{iceReservationIdFallback}}\",\r\n        \"propertyId\": \"{{icePropertyIdFallback}}\",\r\n        \"itineraryId\": \"{{iceItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{iceRoomTypeId}}\",\r\n        \"programId\": \"{{iceProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{iceConfirmationNumberFallback}},\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_Fallback}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are ICE \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-ice}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-ice}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "MGMRI-WEB",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "MGMRI Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Calendar price v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/iata/organizations?orgName={{validOrgName}}",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n        \"roomTypeId\": \"74559601-6fbb-4444-ab12-04f5722116bd\",\r\n        \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mgmriProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mgmriPropertyIdTransient}}\",\r\n    \"programId\": \"{{mgmriProgramId}}\",\r\n    \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n    \"confirmationNumber\": \"{{mgmriConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{mgmriCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{lastName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"mgmriConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mgmriReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{mgmriCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{mgmriPropertyIdTransient}}\",\r\n\t    \"confirmationNumber\": {{mgmriConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{mgmriItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mgmriProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{mgmriReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{mgmriItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{mgmriPropertyIdTransient}}\",\r\n  \"confirmationNumber\": \"{{mgmriConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Find Reservation V2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mgmriConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mgmriConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mgmriCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{mgmriItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{mgmriConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mgmriReservationIdTransient}}\",\r\n        \"propertyId\": \"{{mgmriPropertyIdTransient}}\",\r\n        \"itineraryId\": \"{{mgmriItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Offers PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "MGMRI Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Calendar price v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationIdPO',  reservationId);\r",
											"\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdPO',  propertyId);\r",
											"    postman.setEnvironmentVariable('mgmriProgramIdPO',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeIdPO',  roomTypeId);\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mgmriPropertyIdPO}}\",\r\n    \"roomTypeId\": \"74559601-6fbb-4444-ab12-04f5722116bd\",\r\n    \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n    \"confirmationNumber\": {{mgmriConfirmationNumberPO}},\r\n    \"customerId\": \"{{mgmriCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_PO}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"mgmriConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mgmriReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{mgmriCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{mgmriPropertyIdPO}}\",\r\n\t        \"confirmationNumber\": {{mgmriConfirmationNumberPO}},\r\n        \"itineraryId\": {{mgmriItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mgmriProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{mgmriReservationIdPO}}\",\r\n  \"itineraryId\": \"{{mgmriItineraryIdPO}}\",\r\n  \"propertyId\": \"{{mgmriPropertyIdPO}}\",\r\n  \"confirmationNumber\": \"{{mgmriConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "perpetualPricing",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mgmriConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mgmriConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mgmriCustomerIdPO}}\",\n\t\"itineraryId\": \"{{mgmriItineraryIdPO}}\",\n\t\"confirmationNumber\": {{mgmriConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mgmriReservationIdPO}}\",\r\n        \"propertyId\": \"{{mgmriPropertyIdPO}}\",\r\n        \"itineraryId\": \"{{mgmriItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{mgmriConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_PO}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "MGMRI Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mgmriProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate=2021-05-01&checkOutDate=2021-05-02&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-01"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-02"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Calendar price v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Offers Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Components Availability Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdFallback',  propertyId);\r",
											"    postman.setEnvironmentVariable('mgmriProgramIdFallback',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeIdFallback',  roomTypeId);\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mgmriConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mgmriItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mgmriReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('mgmriPropertyIdFallback',  propertyId);\r",
											"    postman.setEnvironmentVariable('mgmriProgramIdFallback',  programId);\r",
											"    postman.setEnvironmentVariable('mgmriRoomTypeIdFallback',  roomTypeId);\r",
											"    postman.setEnvironmentVariable('mgmriCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mgmriPropertyIdFallback}}\",\r\n    \"programId\": \"{{mgmriProgramId}}\",\r\n    \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n    \"confirmationNumber\": {{mgmriConfirmationNumberFallback}},\r\n    \"customerId\": \"{{mgmriCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_Fallback}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"mgmriConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mgmriReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{mgmriCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{mgmriPropertyIdFallback}}\",\r\n\t        \"confirmationNumber\": {{mgmriConfirmationNumberFallback}},\r\n        \"itineraryId\": {{mgmriItineraryIdFallback}},\r\n\t\t\"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mgmriProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{mgmriReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{mgmriItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{mgmriPropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{mgmriConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mgmriConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mgmriConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mgmriConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mgmriCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{mgmriItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{mgmriConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation/cancel",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MGMRI ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mgmri}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mgmri}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mgmriReservationIdFallback}}\",\r\n        \"propertyId\": \"{{mgmriPropertyIdFallback}}\",\r\n        \"itineraryId\": \"{{mgmriItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{mgmriRoomTypeId}}\",\r\n        \"programId\": \"{{mgmriProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{mgmriConfirmationNumberFallback}},\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_Fallback}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation/hold",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are MGMRI-WEB \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-mgmri}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-web}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "NYNY-WEB",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "NYNY Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('nynyRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Calendar price v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/iata/organizations?orgName={{validOrgName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdTransient',  propertyId);\r",
											"    postman.setEnvironmentVariable('nynyProgramIdTransient',  programId);\r",
											"    postman.setEnvironmentVariable('nynyRoomTypeIdTransient',  roomTypeId);\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n\t\t\"programId\": \"{{nynyProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdTransient',  propertyId);\r",
											"    postman.setEnvironmentVariable('nynyProgramIdTransient',  programId);\r",
											"    postman.setEnvironmentVariable('nynyRoomTypeIdTransient',  roomTypeId);\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n\t\t\"programId\": \"{{nynyProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{nynyPropertyIdTransient}}\",\r\n    \"programId\": \"{{nynyProgramId}}\",\r\n    \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n    \"confirmationNumber\": \"{{nynyConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{nynyCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"nynyConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{nynyReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{nynyCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{nynyPropertyIdTransient}}\",\r\n\t    \"confirmationNumber\": {{nynyConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{nynyItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n\t\t\"programId\": \"{{nynyProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{nynyReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{nynyItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{nynyPropertyIdTransient}}\",\r\n  \"confirmationNumber\": \"{{nynyConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Find Reservation V2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{nynyConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{nynyConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{nynyCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{nynyItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{nynyConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{nynyReservationIdTransient}}\",\r\n        \"propertyId\": \"{{nynyPropertyIdTransient}}\",\r\n        \"itineraryId\": \"{{nynyItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "NYNY Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('nynyRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Calendar price v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Offers PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=true&mlifeNumber={{mlifeNo_PO}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdPO',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{nynyPropertyIdPO}}\",\r\n    \"programId\": \"{{nynyProgramId}}\",\r\n    \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n    \"confirmationNumber\": {{nynyConfirmationNumberPO}},\r\n    \"customerId\": \"{{nynyCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_PO}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"nynyConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{nynyReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{nynyCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{nynyPropertyIdPO}}\",\r\n\t    \"confirmationNumber\": {{nynyConfirmationNumberPO}},\r\n        \"itineraryId\": {{nynyItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n\t\t\"programId\": \"{{nynyProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"nynyReservationIdPO\",\r\n  \"itineraryId\": \"{{nynyItineraryIdPO}}\",\r\n  \"propertyId\": \"{{nynyPropertyIdPO}}\",\r\n  \"confirmationNumber\": \"{{nynyConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_PO}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{nynyConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{nynyConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{nynyCustomerIdPO}}\",\n\t\"itineraryId\": \"{{nynyItineraryIdPO}}\",\n\t\"confirmationNumber\": {{nynyConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{nynyReservationIdPO}}\",\r\n        \"propertyId\": \"{{nynyPropertyIdPO}}\",\r\n        \"itineraryId\": \"{{nynyItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{nynyConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_PO}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation/hold",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "NYNY Single Availability v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[0].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[0].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[0]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[0].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('nynyRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Calendar price v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=bee81f88-286d-43dd-91b5-3917d9d62a68&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "bee81f88-286d-43dd-91b5-3917d9d62a68",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Offers Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Components Availability Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId=74559601-6fbb-4444-ab12-04f5722116bd&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "74559601-6fbb-4444-ab12-04f5722116bd"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"f13807cd-ec81-498f-bca2-4948b4597b6a\",\r\n        \"programId\": \"c1ce212c-f935-46e6-9b27-9e60385dc365\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('nynyConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('nynyItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('nynyReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('nynyPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('nynyCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{nynyPropertyIdFallback}}\",\r\n    \"programId\": \"{{nynyProgramId}}\",\r\n    \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n    \"confirmationNumber\": {{nynyConfirmationNumberFallback}},\r\n    \"customerId\": \"{{nynyCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_Fallback}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"nynyConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{nynyReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{nynyCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{nynyPropertyIdFallback}}\",\r\n\t    \"confirmationNumber\": {{nynyConfirmationNumberFallback}},\r\n        \"itineraryId\": {{bookedItineraryId}},\r\n\t\t\"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n\t\t\"programId\": \"{{nynyProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_Fallback}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{nynyReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{nynyItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{nynyPropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{nynyConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_Fallback}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{nynyConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{nynyConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{nynyCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{nynyItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{nynyConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "NYNY ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-nyny}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-nyny}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{nynyReservationIdFallback}}\",\r\n        \"propertyId\": \"{{nynyPropertyIdFallback}}\",\r\n        \"itineraryId\": \"{{nynyItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{nynyRoomTypeId}}\",\r\n        \"programId\": \"{{nynyProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{nynyConfirmationNumberFallback}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_Fallback}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are NYNY-WEB \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-nyny}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-web}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "MandalayBay-WEB",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "MBay Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mbayRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Calendar price v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&roomTypeId=7a8fa6da-516d-4907-b974-fbe69108d56d",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "roomTypeId",
											"value": "7a8fa6da-516d-4907-b974-fbe69108d56d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/iata/organizations?orgName={{validOrgName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdTransient',  propertyId);\r",
											" \r",
											"    postman.setEnvironmentVariable('mbayCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId_MBay}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mbayProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId_MBay}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mbayProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mbayConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mbayPropertyIdTransient}}\",\r\n    \"programId\": \"{{mbayProgramId}}\",\r\n    \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n    \"confirmationNumber\": \"{{mbayConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{mbayCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"mbayConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mbayReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{mbayCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{mbayPropertyIdTransient}}\",\r\n\t    \"confirmationNumber\": {{mbayConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{mbayItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mbayProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mbayConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{nynyReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{nynyItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{nynyPropertyIdTransient}}\",\r\n  \"confirmationNumber\": \"{{nynyConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Find Reservation V2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mbayConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mbayConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mbayConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mbayCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{mbayItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{mbayConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mbayReservationIdTransient}}\",\r\n        \"propertyId\": \"{{mbayPropertyIdTransient}}\",\r\n        \"itineraryId\": \"{{mbayItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "MBay Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mbayRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Calendar price v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_MBay}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_MBay}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Offers PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_MBay}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_MBay}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&roomTypeId=7a8fa6da-516d-4907-b974-fbe69108d56d&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_MBay}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "roomTypeId",
											"value": "7a8fa6da-516d-4907-b974-fbe69108d56d"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_MBay}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdPO',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_MBay}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_PO_MBay}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_MBay}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"79664267\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mbayConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mbayPropertyIdPO}}\",\r\n    \"programId\": \"{{mbayProgramId}}\",\r\n    \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n    \"confirmationNumber\": {{mbayConfirmationNumberPO}},\r\n    \"customerId\": \"{{mbayCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": {{mlifeNo_PO}}\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"mbayConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mbayReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{mbayCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{mbayPropertyIdPO}}\",\r\n\t    \"confirmationNumber\": {{mbayConfirmationNumberPO}},\r\n        \"itineraryId\": {{mbayItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mbayProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO_MBay}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{mbayReservationIdPO}}\",\r\n  \"itineraryId\": \"{{mbayItineraryIdPO}}\",\r\n  \"propertyId\": \"{{mbayPropertyIdPO}}\",\r\n  \"confirmationNumber\": \"{{mbayConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_PO_MBay}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "perpetualPricing",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mbayConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mbayConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mbayCustomerIdPO}}\",\n\t\"itineraryId\": \"{{mbayItineraryIdPO}}\",\n\t\"confirmationNumber\": {{mbayConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mbayReservationIdPO}}\",\r\n        \"propertyId\": \"{{mbayPropertyIdPO}}\",\r\n        \"itineraryId\": \"{{mbayItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{mbayConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": {{mlifeNo_PO_MBay}},\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "MBay Single Availability v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('mbayRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Calendar price v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds=e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Offers Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Components Availability Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_MBay}}&roomTypeId=7a8fa6da-516d-4907-b974-fbe69108d56d&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_MBay}}"
										},
										{
											"key": "roomTypeId",
											"value": "7a8fa6da-516d-4907-b974-fbe69108d56d"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_MBay}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('mbayConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('mbayItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('mbayReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('mbayPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('mbayCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_MBay}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"mbayConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{mbayPropertyIdFallback}}\",\r\n    \"programId\": \"{{mbayProgramId}}\",\r\n    \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n    \"confirmationNumber\": {{mbayConfirmationNumberFallback}},\r\n    \"customerId\": \"{{mbayCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\"\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"nynyConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{mbayReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{mbayCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{mbayPropertyIdFallback}}\",\r\n\t    \"confirmationNumber\": {{mbayConfirmationNumberFallback}},\r\n        \"itineraryId\": {{mbayItineraryIdFallback}},\r\n\t\t\"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n\t\t\"programId\": \"{{mbayProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{iceConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{iceConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{mbayReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{mbayItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{mbayPropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{mbayConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\"\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{mbayConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{mbayConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{mbayCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{mbayItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{mbayConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "MBay ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-mbay}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-mbay}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{mbayReservationIdFallback}}\",\r\n        \"propertyId\": \"{{mbayPropertyIdFallback}}\",\r\n        \"itineraryId\": \"{{mbayItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{mbayRoomTypeId}}\",\r\n        \"programId\": \"{{mbayProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{mbayConfirmationNumberFallback}},\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_MBay}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are NYNY-WEB \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-nyny}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-web}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Vdara-WEB",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "Vdara Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('vdaraRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Calendar price v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId_Vdara}}&roomTypeId={{vdaraRoomTypeId}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{vdaraRoomTypeId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/iata/organizations?orgName={{validOrgName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds={{propertyId_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId_Vdara}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdTransient',  propertyId);\r",
											" \r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId_Vdara}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n\t\t\"programId\": \"{{vdaraProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId_Vdara}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n\t\t\"programId\": \"{{vdaraProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{vdaraPropertyIdTransient}}\",\r\n    \"programId\": \"{{vdaraProgramId}}\",\r\n    \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n    \"confirmationNumber\": \"{{vdaraConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{vdaraCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"vdaraConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{vdaraReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{vdaraCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{vdaraPropertyIdTransient}}\",\r\n\t    \"confirmationNumber\": {{vdaraConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{vdaraItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n\t\t\"programId\": \"{{vdaraProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{APIM_Endpoint}}{{Function_Environment}}/v2/reservation",
									"protocol": "https",
									"host": [
										"{{APIM_Endpoint}}{{Function_Environment}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{vdaraReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{vdaraItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{vdaraPropertyIdTransient}}\",\r\n  \"confirmationNumber\": \"{{vdaraConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Find Reservation V2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{vdaraConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{vdaraConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{vdaraCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{vdaraItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{vdaraConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{vdaraReservationIdTransient}}\",\r\n        \"propertyId\": \"{{vdaraPropertyIdTransient}}\",\r\n        \"itineraryId\": \"{{vdaraItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "Vdara Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('vdaraRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Calendar price v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds={{propertyId_Vdara}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId_Vdara}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Offers PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId_Vdara}}&roomTypeId={{vdaraRoomTypeId}}&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{vdaraRoomTypeId}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdPO',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_Vdara}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Vdara}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_Vdara}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_PO_Vdara}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{vdaraPropertyIdPO}}\",\r\n    \"programId\": \"{{vdaraProgramId}}\",\r\n    \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n    \"confirmationNumber\": {{vdaraConfirmationNumberPO}},\r\n    \"customerId\": \"{{vdaraCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": \"{{mlifeNo_PO_Vdara}}\"\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"vdaraConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{vdaraReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{vdaraCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{vdaraPropertyIdPO}}\",\r\n\t    \"confirmationNumber\": {{vdaraConfirmationNumberPO}},\r\n        \"itineraryId\": {{vdaraItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n\t\t\"programId\": \"{{vdaraProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO_Vdara}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"nynyConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{vdaraReservationIdPO}}\",\r\n  \"itineraryId\": \"{{vdaraItineraryIdPO}}\",\r\n  \"propertyId\": \"{{vdaraPropertyIdPO}}\",\r\n  \"confirmationNumber\": \"{{vdaraConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Vdara}}\"\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{vdaraConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{vdaraConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{vdaraCustomerIdPO}}\",\n\t\"itineraryId\": \"{{vdaraItineraryIdPO}}\",\n\t\"confirmationNumber\": {{vdaraConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{vdaraReservationIdPO}}\",\r\n        \"propertyId\": \"{{vdaraPropertyIdPO}}\",\r\n        \"itineraryId\": \"{{vdaraItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{vdaraConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Vdara}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "Vdara Single Availability v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('vdaraRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Calendar price v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=false&numAdults=2&propertyIds={{propertyId_Vdara}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId_Vdara}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Offers PO Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=false&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Components Availability PO Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId_Vdara}}&roomTypeId={{vdaraRoomTypeId}}&perpetualPricing=false&mlifeNumber={{mlifeNo_PO_Vdara}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{vdaraRoomTypeId}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Vdara}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_Vdara}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_Vdara}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('vdaraConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('vdaraItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('vdaraReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('vdaraPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('vdaraCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_Vdara}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_Vdara}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{vdaraPropertyIdFallback}}\",\r\n    \"programId\": \"{{vdaraProgramId}}\",\r\n    \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n    \"confirmationNumber\": {{vdaraConfirmationNumberFallback}},\r\n    \"customerId\": \"{{vdaraCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": \"{{mlifeNo_Fallback_Vdara}}\"\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"vdaraConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{vdaraReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{vdaraCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{vdaraPropertyIdFallback}}\",\r\n\t    \"confirmationNumber\": {{vdaraConfirmationNumberFallback}},\r\n        \"itineraryId\": {{vdaraItineraryIdFallback}},\r\n\t\t\"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n\t\t\"programId\": \"{{vdaraProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_Vdara}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{vdaraReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{vdaraItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{vdaraPropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{vdaraConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_Fallback_Vdara}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{vdaraConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{vdaraConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"vdaraConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{vdaraCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{vdaraItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{vdaraConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Vdara ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{vdaraReservationIdFallback}}\",\r\n        \"propertyId\": \"{{vdaraPropertyIdFallback}}\",\r\n        \"itineraryId\": \"{{vdaraItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{vdaraRoomTypeId}}\",\r\n        \"programId\": \"{{vdaraProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{vdaraConfirmationNumberFallback}},\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_Vdara}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are NYNY-WEB \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-nyny}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-web}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Delano-WEB",
			"item": [
				{
					"name": "Transient",
					"item": [
						{
							"name": "Delano Single Availability v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('delanoRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Calendar price v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Components Availability",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId={{delanoRoomTypeId}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{delanoRoomTypeId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Organization Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Organization Search with Organization Name\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.equal(jsonData[0].fullName);\r",
											"    var value = pm.variables.get(\"validOrgName\");    \r",
											"    pm.expect(value).eq(jsonData[0].shortName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"postman.setEnvironmentVariable('validOrgName',  \"Amadeus\");\r",
											"postman.setEnvironmentVariable('validIataCode',  \"1A\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/iata/organizations?orgName={{validOrgName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"iata",
										"organizations"
									],
									"query": [
										{
											"key": "orgName",
											"value": "{{validOrgName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano GroupSearch",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Group Search with Start Date, End Date, Property Id and Group Code\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(\"Group\").equal(jsonData[0].category);\r",
											"  pm.expect(0).not.equal(jsonData[0].rooms.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/groupblocks?propertyId={{propertyId}}&startDate=2020-09-14&endDate=2020-09-29&id=GRPCD-v-GR1-d-PROP-v-MV021",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"groupblocks"
									],
									"query": [
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "startDate",
											"value": "2020-09-14"
										},
										{
											"key": "endDate",
											"value": "2020-09-29"
										},
										{
											"key": "id",
											"value": "GRPCD-v-GR1-d-PROP-v-MV021"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Offers",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Resorts Price V2",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds={{propertyId}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdTransient',  propertyId);\r",
											" \r",
											"    postman.setEnvironmentVariable('delanoCustomerIdTransient',  customerId);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdTransient',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n\t\t\"programId\": \"{{delanoProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create SPL REQ Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberTransient',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdTransient',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdTransient',  reservationId);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdTransient',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoCustomerIdTransient',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"752c359a-49ab-4b6a-b7b5-a68d77f23b9b\",\r\n\t\t\"customerId\": \"11171332354\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t\t\"itineraryId\": \"6897908226\",\r\n\t\t\"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n\t\t\"programId\": \"{{delanoProgramId}}\",\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano RoomCharges-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"programId\": \"{{delanoProgramId}}\",\r\n    \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n    \"confirmationNumber\": \"{{delanoConfirmationNumberTransient}}\",\r\n    \"customerId\": \"{{delanoCustomerIdTransient}}\",\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 156499970,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ]        \r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Reservation V2-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"delanoConfirmationNumberTransient\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{delanoReservationIdTransient}}\",\r\n\t\t\"customerId\": \"{{delanoCustomerIdTransient}}\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t    \"confirmationNumber\": {{delanoConfirmationNumberTransient}},\r\n        \"itineraryId\": \"{{delanoItineraryIdTransient}}\",\r\n\t\t\"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n\t\t\"programId\": \"{{delanoProgramId}}\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Profile-Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{delanoReservationIdTransient}}\",\r\n  \"itineraryId\": \"{{delanoItineraryIdTransient}}\",\r\n  \"propertyId\": \"{{propertyId}}\",\r\n  \"confirmationNumber\": \"{{delanoConfirmationNumberTransient}}\",\r\n  \"userProfile\": {\r\n            \"id\": 156499970,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ]\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Find Reservation V2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{vdaraConfirmationNumberTransient}}&firstName={{firstName}}&lastName={{lastName}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{vdaraConfirmationNumberTransient}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Cancel Reservation Transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberTransient\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{delanoCustomerIdTransient}}\",\n\t\"itineraryId\": \"{{delanoItineraryIdTransient}}\",\n\t\"confirmationNumber\": {{delanoConfirmationNumberTransient}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano ReservationHold-transient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Hold Reservation  TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											" \r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{delanoReservationIdTransient}}\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"{{delanoItineraryIdTransient}}\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "PO Flow",
					"item": [
						{
							"name": "Delano Single Availability v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('delanoRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Calendar price v2 PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Resorts Price V2 PO",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds={{propertyId}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Offers PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Components Availability PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId={{delanoRoomTypeId}}&perpetualPricing=true&mlifeNumber={{mlifeNo_PO_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{delanoRoomTypeId}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create Reservation V2-PO-FLow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 07 : Create Reservation -PO\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoCustomerIdPO',  customerId);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdPO',  reservationId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Delano}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create SPL REQ Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberPO',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdPO',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdPO',  reservationId);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdPO',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoCustomerIdPO',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": true,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_PO_Delano}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano RoomCharges-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"programId\": \"{{delanoProgramId}}\",\r\n    \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n    \"confirmationNumber\": {{delanoConfirmationNumberPO}},\r\n    \"customerId\": \"{{delanoCustomerIdPO}}\",\r\n    \"perpetualPricing\": true,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": \"{{mlifeNo_PO_Delano}}\"\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Reservation V2-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"delanoConfirmationNumberPO\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{delanoReservationIdPO}}\",\r\n\t\t\"customerId\": \"{{delanoCustomerIdPO}}\",\r\n\t\t\"propertyId\": \"{{propertyId}}\",\r\n\t    \"confirmationNumber\": {{delanoConfirmationNumberPO}},\r\n        \"itineraryId\": {{delanoItineraryIdPO}},\r\n\t\t\"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n\t\t\"programId\": \"{{delanoProgramId}}\",\r\n        \"perpetualPricing\": true,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": {{mlifeNo_PO_Delano}},\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Profile-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{delanoReservationIdPO}}\",\r\n  \"itineraryId\": \"{{delanoItineraryIdPO}}\",\r\n  \"propertyId\": \"{{propertyId}}\",\r\n  \"confirmationNumber\": \"{{delanoConfirmationNumberPO}}\",\r\n  \"perpetualPricing\": true,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Delano}}\"\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Find Reservation V2 PO Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{delanoConfirmationNumberPO}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=true",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{delanoConfirmationNumberPO}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Cancel Reservation PO",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberPO\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{delanoCustomerIdPO}}\",\n\t\"itineraryId\": \"{{delanoItineraryIdPO}}\",\n\t\"confirmationNumber\": {{delanoConfirmationNumberPO}},\n    \"perpetualPricing\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano ReservationHold-Mlife-PO-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{delanoReservationIdPO}}\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"{{delanoItineraryIdPO}}\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{delanoConfirmationNumberPO}},\r\n        \"perpetualPricing\": true,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": \"{{mlifeNo_PO_Delano}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Fallback Flow",
					"item": [
						{
							"name": "Delano Single Availability v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  var programId = jsonData.availability[1].price.itemized[0].programId;\r",
											"  var roomTypeId = jsonData.availability[1].roomTypeId;\r",
											"\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"  pm.expect(null).not.eq(jsonData.availability[1]);\r",
											"  pm.expect(0).not.equal(jsonData.availability[1].price.itemized.length);\r",
											"  \r",
											"  pm.expect(programId).not.eq(null);\r",
											"  pm.expect(roomTypeId).not.eq(null);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoProgramId',  programId);\r",
											"    postman.setEnvironmentVariable('delanoRoomTypeId',  roomTypeId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/trip?checkInDate={{checkInDate_v2}}&checkOutDate={{checkOutDate_v2}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"trip"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Calendar price v2 Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Calendar Price with Start Date, End Date, Property Id, Number of Adults, Number of Rooms and Group Code\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/calendar?startDate={{checkInDate_v2}}&endDate={{checkOutDate_v2}}&propertyId={{propertyId_Vdara}}&numAdults=2&numRooms=2&isGroupCode=true&perpetualPricing=false&mlifeNumber={{mlifeNo_Fallback_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"calendar"
									],
									"query": [
										{
											"key": "startDate",
											"value": "{{checkInDate_v2}}"
										},
										{
											"key": "endDate",
											"value": "{{checkOutDate_v2}}"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId_Vdara}}"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "numRooms",
											"value": "2"
										},
										{
											"key": "isGroupCode",
											"value": "true"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_Fallback_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Resorts Price V2 Fallback",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "{{sourceHeaderKey}}",
										"type": "text",
										"value": "{{mgmresorts}}",
										"disabled": true
									},
									{
										"key": "{{channelHeaderKey}}",
										"type": "text",
										"value": "{{web}}",
										"disabled": true
									},
									{
										"key": "{{transactionIdHeaderKey}}",
										"value": "{{$timestamp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/availability/resorts?checkInDate={{todayPlus45}}&checkOutDate={{todayPlus46}}&customerId=923342929921&perpetualPricing=true&numAdults=2&propertyIds={{propertyId}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"resorts"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "{{todayPlus45}}"
										},
										{
											"key": "checkOutDate",
											"value": "{{todayPlus46}}"
										},
										{
											"key": "customerId",
											"value": "923342929921",
											"description": "QA2: 1347616769"
										},
										{
											"key": "perpetualPricing",
											"value": "true"
										},
										{
											"key": "numAdults",
											"value": "2"
										},
										{
											"key": "propertyIds",
											"value": "{{propertyId}}",
											"description": "full-list: 66964e2b-2550-4476-84c3-1a4c0c5c067f,dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad,8bf670c2-3e89-412b-9372-6c87a215e442,44e610ab-c209-4232-8bb4-51f7b9b13a75,2159252c-60d3-47db-bbae-b1db6bb15072,13b178b0-8beb-43d5-af25-1738b7267e63,6c5cff3f-f01a-4f9b-87ab-8395ae8108db,e0f70eb3-7e27-4c33-8bcd-f30bf3b1103a,4a65a92a-962b-433e-841c-37e18dc5d68d,e2704b04-d515-45b0-8afd-4fa1424ff0a8,607c07e7-3e31-4e4c-a4e1-f55dca66fea2,1f3ed672-3f8f-44d8-9215-81da3c845d83,f8d6a944-7816-412f-a39a-9a63aad26833,0990fdce-7fc8-41b1-b8b6-9a25dce3db55,bee81f88-286d-43dd-91b5-3917d9d62a68,40b61feb-750a-45df-ae68-e23e6272b16b"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Offers Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V1 | Test case 01 : Offer Search with Start Date, End Date, Program Id\", function () {\r",
											"  pm.response.to.have.status(200);\r",
											"  pm.response.to.have.header(\"Content-Type\");\r",
											"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"  var jsonData = JSON.parse(pm.response.stream);\r",
											"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"  pm.expect(null).not.eq(jsonData);\r",
											"  pm.expect(0).not.equal(jsonData.length);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{env}}/v2/offers?programIds=53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e&startDate=2020-05-10&endDate=2021-05-10&perpetualPricing=false&mlifeNumber={{mlifeNo_PO_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"offers"
									],
									"query": [
										{
											"key": "programIds",
											"value": "53ac51f6-4d0a-4921-b9b2-82acdf093963,4dcc7646-5510-4971-bbfc-25169773f24e"
										},
										{
											"key": "startDate",
											"value": "2020-05-10"
										},
										{
											"key": "endDate",
											"value": "2021-05-10"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Components Availability Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-vdara}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-vdara}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/availability/components?checkInDate=2021-05-28&checkOutDate=2021-05-29&propertyId={{propertyId}}&roomTypeId={{delanoRoomTypeId}}&perpetualPricing=false&mlifeNumber={{mlifeNo_PO_Delano}}",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"availability",
										"components"
									],
									"query": [
										{
											"key": "checkInDate",
											"value": "2021-05-28"
										},
										{
											"key": "checkOutDate",
											"value": "2021-05-29"
										},
										{
											"key": "propertyId",
											"value": "{{propertyId}}"
										},
										{
											"key": "roomTypeId",
											"value": "{{delanoRoomTypeId}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										},
										{
											"key": "mlifeNumber",
											"value": "{{mlifeNo_PO_Delano}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"roomReservation\": {\r\n        \"nrgStatus\": false,\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"operaState\": \"\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"confirmationNumber\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n        \"bookings\": [\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-29\",\r\n                \"isComp\": false\r\n            },\r\n            {\r\n                \"overrideProgramIdIsRateTable\": false,\r\n                \"resortFeeIsSpecified\": false,\r\n                \"programIdIsRateTable\": false,\r\n                \"customerPrice\": 0.0,\r\n                \"resortFee\": 0.0,\r\n                \"basePrice\": 0.0,\r\n                \"price\": 99.0,\r\n                \"overridePrice\": -1.0,\r\n                \"programId\": \"f115f057-0b8e-4a7c-a183-e0e37a8441c6\",\r\n                \"pricingRuleId\": null,\r\n                \"overrideProgramId\": null,\r\n                \"overridePricingRuleId\": null,\r\n                \"date\": \"2021-01-30\",\r\n                \"isComp\": false\r\n            }\r\n        ],\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null,\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_Delano}}\"\r\n        },\r\n        \"billing\": [\r\n            {\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        ],\r\n        \"chargesAndTaxes\": {\r\n            \"charges\": [\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 136.0,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 99.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomCharge\"\r\n                        },\r\n                        {\r\n                            \"amount\": 37.0,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFee\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"taxesAndFees\": [\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-29\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"amount\": 18.2,\r\n                    \"date\": \"2021-01-30\",\r\n                    \"itemized\": [\r\n                        {\r\n                            \"amount\": 13.24,\r\n                            \"item\": null,\r\n                            \"itemType\": \"RoomChargeTax\"\r\n                        },\r\n                        {\r\n                            \"amount\": 4.95,\r\n                            \"item\": null,\r\n                            \"itemType\": \"ResortFeeTax\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"depositDetails\": {\r\n            \"amount\": 172.39,\r\n            \"forfeitAmount\": 172.39,\r\n            \"overrideAmount\": -1.0,\r\n            \"depositRuleCode\": null,\r\n            \"cancellationRuleCode\": null,\r\n            \"dueDate\": \"2020-12-27\",\r\n            \"forfeitDate\": \"2021-01-25\",\r\n            \"amountPolicy\": null,\r\n            \"itemized\": null\r\n        },\r\n        \"isGroupCode\": false\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Create SPL REQ Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 06 : Create Reservation with Profile, Booking, TripDetails, Billing and spl request\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
											"    var reservationId = jsonData.roomReservation.id;\r",
											"    var propertyId = jsonData.roomReservation.propertyId;\r",
											"    var programId = jsonData.roomReservation.programId;\r",
											"    var roomTypeId = jsonData.roomReservation.roomTypeId;\r",
											"    var customerId = jsonData.roomReservation.customerId;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(itineraryId).not.eq(null);\r",
											"    pm.expect(reservationId).not.eq(null);\r",
											"    pm.expect(propertyId).not.eq(null);\r",
											"    pm.expect(programId).not.eq(null);\r",
											"    pm.expect(roomTypeId).not.eq(null);\r",
											"    pm.expect(customerId).not.eq(null);\r",
											"    postman.setEnvironmentVariable('delanoConfirmationNumberFallback',  confirmationNumber);\r",
											"    postman.setEnvironmentVariable('delanoItineraryIdFallback',  itineraryId);\r",
											"    postman.setEnvironmentVariable('delanoReservationIdFallback',  reservationId);\r",
											"    postman.setEnvironmentVariable('delanoPropertyIdFallback',  propertyId);\r",
											"\r",
											"    postman.setEnvironmentVariable('delanoCustomerIdFallback',  customerId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"firstName = \"functionaltest\" + Math.random().toString(36).substring(5);\r",
											"postman.setEnvironmentVariable('firstName',  firstName);\r",
											"postman.setEnvironmentVariable('lastName',  \"pman\");\r",
											"\r",
											"phone = Math.floor(Math.random() * 9000000000) + 1000000000;\r",
											"postman.setEnvironmentVariable('phone',  phone);\r",
											"postman.setEnvironmentVariable('email',  firstName+\"@xyz.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{api_key}}"
									},
									{
										"key": "x-state-token",
										"type": "text",
										"value": "{{x-state-token}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n        \"id\": \"35131669-7344-4d8b-aadf-f447e77d24b2\",\r\n        \"propertyId\": \"{{propertyId_Vdara}}\",\r\n        \"itineraryId\": \"7621739521\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"customerId\": \"905143714049\",\r\n        \"perpetualPricing\": false,\r\n\t\t   \"state\": \"Booked\",\r\n\t\t\"nrgStatus\": false,\r\n\t\t        \"specialRequests\": [\"COMPONENTCD~DINN--NRPCD~NONE--TYP~SPECIAL-REQUEST--PROP~40b61feb-750a-45df-ae68-e23e6272b16b\",\"COMPONENTCD~BUFDAY--NRPCD~RP002--TYP~COMPONENT--PROP~dc00e77f-d6bb-4dd7-a8ea-dc33ee9675ad\"],\r\n\t\t\"profile\": {\r\n\"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_Delano}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\t\t\"agentInfo\": {\r\n\t\t\t\"agentId\": \"{{validIataCode}}\",\r\n            \"agentType\": \"IATA\"\r\n\t\t},\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano RoomCharges-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Room Charges with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"propertyId\": \"{{delanoPropertyIdFallback}}\",\r\n    \"programId\": \"{{delanoProgramId}}\",\r\n    \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n    \"confirmationNumber\": {{delanoConfirmationNumberFallback}},\r\n    \"customerId\": \"{{delanoCustomerIdFallback}}\",\r\n    \"perpetualPricing\": false,\r\n    \"upgradeRoomTypeId\": \"TEST\",\r\n    \"specialRequests\": [],\r\n    \"partyConfirmationNumber\": \"\",\r\n    \"comments\": \"custom comments\",\r\n    \"additionalComments\": [\r\n        \"add 1\",\r\n        \"add 2\"\r\n    ],\r\n    \"profile\": {\r\n        \"id\": 11171332354,\r\n        \"operaId\": null,\r\n        \"firstName\": \"{{firstName}}\",\r\n        \"lastName\": \"{{lastName}}\",\r\n        \"phoneNumbers\": [\r\n            {\r\n                \"number\": \"7099087654\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"emailAddress1\": \"{{email}}\",\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": \"0002-11-28\",\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89118\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"mlifeNo\": \"{{mlifeNo_Fallback_Delano}}\"\r\n    },\r\n    \"bookings\": [\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-05\",\r\n            \"isComp\": false\r\n        },\r\n        {\r\n            \"overrideProgramIdIsRateTable\": false,\r\n            \"resortFeeIsSpecified\": false,\r\n            \"programIdIsRateTable\": false,\r\n            \"customerPrice\": 0.0,\r\n            \"resortFee\": 0.0,\r\n            \"basePrice\": 0.0,\r\n            \"price\": 159.0,\r\n            \"overridePrice\": 100.0,\r\n            \"programId\": \"6f34c2f3-52e7-494e-a18d-aa0f95c5c263\",\r\n            \"pricingRuleId\": null,\r\n            \"overrideProgramId\": null,\r\n            \"overridePricingRuleId\": null,\r\n            \"date\": \"2020-10-06\",\r\n            \"isComp\": false\r\n        }\r\n    ],\r\n    \"tripDetails\": {\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n        \"numRooms\": 1\r\n    },\r\n    \"billing\": [\r\n        {\r\n            \"payment\": {\r\n                \"amount\": 248.45,\r\n                \"fxAmount\": 0.0,\r\n                \"fxExchangeRate\": 0.0,\r\n                \"cardHolder\": \"Mike Hedden\",\r\n                \"maskedNumber\": null,\r\n                \"fxCurrencyISOCode\": null,\r\n                \"fxCurrencyCode\": null,\r\n                \"fxFlag\": null,\r\n                \"cvv\": \"111\",\r\n                \"type\": \"Diners Club\",\r\n                \"ccToken\": \"5555550A00119KELHS2JOTWZ4444\",\r\n                \"firstName\": \"Mike\",\r\n                \"lastName\": \"Hedden\",\r\n                \"expiry\": \"11/2021\"\r\n            },\r\n            \"address\": {\r\n                \"street1\": \"123 Main St\",\r\n                \"street2\": \"\",\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"postalCode\": \"89118\",\r\n                \"country\": \"US\"\r\n            }\r\n        }\r\n    ],\r\n    \"chargesAndTaxes\": {\r\n        \"charges\": [\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 129.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 129.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomCharge\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"taxesAndFees\": [\r\n            {\r\n                \"amount\": 89.45,\r\n                \"date\": \"2020-10-05\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"amount\": 37.0,\r\n                \"date\": \"2020-10-06\",\r\n                \"itemized\": [\r\n                    {\r\n                        \"amount\": 6.95,\r\n                        \"item\": null,\r\n                        \"itemType\": \"ResortFeeTax\"\r\n                    },\r\n                    {\r\n                        \"amount\": 35.0,\r\n                        \"item\": null,\r\n                        \"itemType\": \"RoomChargeTax\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"depositDetails\": {\r\n        \"amount\": 248.45,\r\n        \"forfeitAmount\": 0.0,\r\n        \"overrideAmount\": 0.0,\r\n        \"depositRuleCode\": null,\r\n        \"cancellationRuleCode\": null,\r\n        \"dueDate\": \"2020-09-20\",\r\n        \"forfeitDate\": null,\r\n        \"amountPolicy\": null,\r\n        \"itemized\": null\r\n    },\r\n    \"agentInfo\": {\r\n        \"agentId\": \"05801806\",\r\n        \"agentType\": \"IATA\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/charges",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"charges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Reservation V2-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Modify Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);\r",
											"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"    pm.expect(confirmationNumber).eq(pm.variables.get(\"delanoConfirmationNumberFallback\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"roomReservation\": {\r\n\t\t\"id\": \"{{delanoReservationIdFallback}}\",\r\n\t\t\"customerId\": \"{{delanoCustomerIdFallback}}\",\r\n\t\t\"propertyId\": \"{{delanoPropertyIdFallback}}\",\r\n\t    \"confirmationNumber\": {{delanoConfirmationNumberFallback}},\r\n        \"itineraryId\": {{delanoItineraryIdFallback}},\r\n\t\t\"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n\t\t\"programId\": \"{{delanoProgramId}}\",\r\n        \"perpetualPricing\": false,\r\n\t\t\"nrgStatus\": false,\r\n\t\t \"state\": \"Booked\",\r\n\t\t\"profile\": {\r\n    \"id\": 156499970,\r\n    \"mlifeNo\": \"{{mlifeNo_Fallback_Delano}}\",\r\n    \"title\": \"Mr\",\r\n    \"dateOfBirth\": \"1960-07-27\",\r\n    \"operaId\": \"814787961\",\r\n    \"tier\": null,\r\n    \"firstName\": \"{{firstName}}\",\r\n    \"lastName\": \"{{lastName}}\",\r\n    \"emailAddress1\": \"{{email}}\",\r\n    \"emailAddress2\": null,\r\n    \"hgpNo\": null,\r\n    \"swrrNo\": null,\r\n    \"phoneNumbers\": [\r\n      {\r\n        \"type\": \"Mobile\",\r\n        \"number\": \"7029138039\"\r\n      }\r\n    ],\r\n    \"addresses\": [\r\n      {\r\n        \"type\": \"Home\",\r\n        \"preferred\": false,\r\n        \"street1\": \"5353 W Desert Inn\",\r\n        \"street2\": null,\r\n        \"city\": \"Las Vegas\",\r\n        \"state\": \"NV\",\r\n        \"country\": \"US\",\r\n        \"postalCode\": \"89146\"\r\n      }\r\n    ]\r\n\t\t},\r\n\t\t\"billing\": [\r\n\t\t\t{\r\n\t\t\t\t\"payment\": {\r\n\t\t\t\t\t\"cardHolder\": \"first last\",\r\n\t\t\t\t\t\"firstName\": \"firstfirst\",\r\n\t\t\t\t\t\"lastName\": \"last\",\r\n\t\t\t\t\t\"ccToken\": \"4111110A001DQXFHY79D9XCZ1111\",\r\n\t\t\t\t\t\"maskedNumber\": \"XXXXXXXXXXXX1111\",\r\n\t\t\t\t\t\"cvv\": \"123\",\r\n\t\t\t\t\t\"type\": \"Visa\",\r\n\t\t\t\t\t\"expiry\": \"10/2022\",\r\n\t\t\t\t\t\"amount\": 266533.28\r\n\t\t\t\t},\r\n\t\t\t\t\"address\": {\r\n\t\t\t\t\t\"street1\": \"234 W Main St\",\r\n\t\t\t\t\t\"city\": \"Las Vegas\",\r\n\t\t\t\t\t\"state\": \"NV\",\r\n\t\t\t\t\t\"postalCode\": \"89129\",\r\n\t\t\t\t\t\"country\": \"US\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"tripDetails\": {\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n\t\t\t\"numAdults\": 1,\r\n\t\t\t\"numChildren\": 0,\r\n\t\t\t\"numRooms\": 1\r\n\t\t},\r\n\t\t\"bookings\": [\r\n\t\t\t{\r\n\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\"basePrice\": 100014.99,\r\n\t\t\t\t\"customerPrice\": 100014.99,\r\n\t\t\t\t\"price\": 100014.99,\r\n\t\t\t\t\"programIdIsRateTable\": false,\r\n\t\t\t\t\"overridePrice\": -1,\r\n\t\t\t\t\"overrideProgramIdIsRateTable\": false,\r\n\t\t\t\t\"isComp\": false,\r\n\t\t\t\t\"resortFeeIsSpecified\": false,\r\n\t\t\t\t\"resortFee\": 0,\r\n\t\t\t\t\"programId\": \"279188f0-2e78-4f54-a4c2-703a2c52d0e6\",\r\n\t\t\t\t\"pricingRuleId\": \"fa1d4b3c-50bd-4fbf-8c9b-695c2c49f583\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"chargesAndTaxes\": {\r\n\t\t\t\"charges\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 100059.99,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestCharge\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Charge\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFee\",\r\n\t\t\t\t\t\t\t\"amount\": 45,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"taxesAndFees\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2021-01-11\",\r\n\t\t\t\t\t\"amount\": 13388.03,\r\n\t\t\t\t\t\"itemized\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ExtraGuestChargeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 0,\r\n\t\t\t\t\t\t\t\"item\": \"Extra Guest Tax\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"itemType\": \"ResortFeeTax\",\r\n\t\t\t\t\t\t\t\"amount\": 6.02,\r\n\t\t\t\t\t\t\t\"item\": \"Resort Fee Tax\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"depositDetails\": {\r\n\t\t\t\"dueDate\": \"2021-01-11\",\r\n\t\t\t\"amountPolicy\": \"Nights\",\r\n\t\t\t\"amount\": 113397,\r\n\t\t\t\"forfeitDate\": \"2021-01-08\",\r\n\t\t\t\"forfeitAmount\": 113397,\r\n\t\t\t\"overrideAmount\": -1,\r\n\t\t\t\"depositRuleCode\": \"1NT\",\r\n\t\t\t\"cancellationRuleCode\": \"72H\",\r\n\t\t\t\"itemized\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomCharge\",\r\n\t\t\t\t\t\"amount\": 100014.99,\r\n\t\t\t\t\t\"item\": \"Room Charge\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"itemType\": \"RoomChargeTax\",\r\n\t\t\t\t\t\"amount\": 13382.01,\r\n\t\t\t\t\t\"item\": \"Room Tax\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t\"guaranteeCode\": \"CC\",\r\n\r\n\t\t\"inAuthTransactionId\": \"jkjk\"\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Modify Profile-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 03 : Modify Profile adddress and mlifeNo\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"    pm.globals.set(\"validItemId\", jsonData.itemId);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"reservationId\": \"{{delanoReservationIdFallback}}\",\r\n  \"itineraryId\": \"{{delanoItineraryIdFallback}}\",\r\n  \"propertyId\": \"{{delanoPropertyIdFallback}}\",\r\n  \"confirmationNumber\": \"{{delanoConfirmationNumberFallback}}\",\r\n  \"perpetualPricing\": false,\r\n  \"userProfile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7099087655\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"0002-11-28\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"123 Main St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89118\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"mlifeNo\": {{mlifeNo_Fallback_Delano}}\r\n        }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/profile",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Find Reservation V2 Fallback Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation?confirmationNumber={{delanoConfirmationNumberFallback}}&firstName={{firstName}}&lastName={{lastName}}&perpetualPricing=false",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation"
									],
									"query": [
										{
											"key": "confirmationNumber",
											"value": "{{delanoConfirmationNumberFallback}}"
										},
										{
											"key": "firstName",
											"value": "{{firstName}}"
										},
										{
											"key": "lastName",
											"value": "{{lastName}}"
										},
										{
											"key": "perpetualPricing",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano Cancel Reservation Fallback",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 01 : Cancel Reservation by confirmationNumber\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    var value = pm.variables.get(\"delanoConfirmationNumberFallback\");\r",
											"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mgm-source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "x-mgm-channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "{{JWT_Token}}",
										"type": "text"
									},
									{
										"key": "x-mgm-transaction-id",
										"value": "rbs-v2-functional-{{$timestamp}}",
										"type": "text"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"customerId\": \"{{delanoCustomerIdFallback}}\",\n\t\"itineraryId\": \"{{delanoItineraryIdFallback}}\",\n\t\"confirmationNumber\": {{delanoConfirmationNumberFallback}},\n    \"perpetualPricing\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/cancel",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"cancel"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delano ReservationHold-Mlife-Fallback-Flow",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"RBS_ACRS_V2 | Test case 02 : Hold Reservation with Profile, TripDetails\", function () {\r",
											"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
											"    pm.response.to.have.status(200);\r",
											"    pm.response.to.have.header(\"Content-Type\");\r",
											"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
											"\r",
											"    var jsonData = JSON.parse(pm.response.stream);\r",
											"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
											"    pm.expect(null).not.eq(jsonData);\r",
											"    pm.expect(0).not.equal(jsonData.length);\r",
											"    pm.expect(null).not.eq(jsonData.booked);    \r",
											"    var confirmationNumber = jsonData.confirmationNumber;\r",
											"\r",
											"    pm.expect(confirmationNumber).not.eq(null);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"preModifyCheckInDate = moment(pm.variables.get(\"checkInDate\")).format('YYYY-MM-DD');\r",
											"preModifyCheckOutDate = moment(pm.variables.get(\"checkOutDate\")).format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('preModifyCheckInDate',  preModifyCheckInDate);\r",
											"postman.setEnvironmentVariable('preModifyCheckOutDate',  preModifyCheckOutDate);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-mgm-source",
										"type": "text",
										"value": "{{x-mgm-source-delano}}"
									},
									{
										"key": "x-mgm-channel",
										"type": "text",
										"value": "{{x-mgm-channel-web}}"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "{{JWT_Token}}"
									},
									{
										"key": "x-mgm-transaction-id",
										"type": "text",
										"value": "rbs-v2-functional-{{$timestamp}}"
									},
									{
										"key": "source",
										"value": "{{x-mgm-source-delano}}",
										"type": "text"
									},
									{
										"key": "channel",
										"value": "{{x-mgm-channel-web}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\r\n        \"nrgStatus\": false,\r\n        \"id\": \"{{delanoReservationIdFallback}}\",\r\n        \"propertyId\": \"{{propertyId}}\",\r\n        \"itineraryId\": \"{{delanoItineraryIdFallback}}\",\r\n        \"roomTypeId\": \"{{delanoRoomTypeId}}\",\r\n        \"programId\": \"{{delanoProgramId}}\",\r\n        \"operaState\": \"\",\r\n       \r\n        \"confirmationNumber\": {{delanoConfirmationNumberFallback}},\r\n        \"perpetualPricing\": false,\r\n        \"rrUpsell\": \"\",\r\n        \"operaConfirmationNumber\": \"\",\r\n        \"guaranteeCode\": \"CC\",\r\n        \"customerRank\": 0,\r\n        \"customerSegment\": 0,\r\n        \"amountDue\": 0.0,\r\n        \"additionalComments\": [],\r\n        \"specialRequests\": [],\r\n         \"state\": \"Booked\",\r\n        \"tripDetails\": {\r\n            \"numAdults\": 2,\r\n            \"numChildren\": 0,\r\n            \"checkInDate\": \"{{checkInDate_v2}}\",\r\n            \"checkOutDate\": \"{{checkOutDate_v2}}\",\r\n            \"numRooms\": 1\r\n        },\r\n        \"profile\": {\r\n            \"id\": 905143714049,\r\n            \"operaId\": null,\r\n            \"firstName\": \"{{firstName}}\",\r\n            \"lastName\": \"{{lastName}}\",\r\n            \"mlifeNo\": \"{{mlifeNo_Fallback_Delano}}\",\r\n            \"phoneNumbers\": [\r\n                {\r\n                    \"number\": \"7069585940\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"emailAddress1\": \"{{email}}\",\r\n            \"emailAddress2\": null,\r\n            \"dateOfBirth\": \"1980-06-11\",\r\n            \"hgpNo\": null,\r\n            \"swrrNo\": null,\r\n            \"addresses\": [\r\n                {\r\n                    \"preferred\": false,\r\n                    \"street1\": \"1837 Butter St\",\r\n                    \"street2\": null,\r\n                    \"city\": \"Las Vegas\",\r\n                    \"state\": \"NV\",\r\n                    \"country\": \"US\",\r\n                    \"postalCode\": \"89115\",\r\n                    \"type\": \"Home\"\r\n                }\r\n            ],\r\n            \"title\": null\r\n        }\r\n             \r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{env}}/v2/reservation/hold",
									"host": [
										"{{env}}"
									],
									"path": [
										"v2",
										"reservation",
										"hold"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\" Test if request header source and channel are NYNY-WEB \", () => {",
							"    pm.expect(pm.request.headers.get(\"x-mgm-source\")).to.eql(\"{{x-mgm-source-nyny}}\");",
							"    pm.expect(pm.request.headers.get(\"x-mgm-channel\")).to.eql(\"{{x-mgm-channel-web}}\");",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}