{
	"info": {
		"_postman_id": "78eb36ee-cd95-4a29-bec2-3a148e6de6a8",
		"name": "RBS-Integration-Tests-ACRS WEB-LV-Scenario",
		"description": "RBS-ACRS-Functional Test ",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "17302509",
		"_collection_link": "https://rbs-postman.postman.co/workspace/RBS-Integration-and-Sanity-Test~fd923ab4-54e6-4325-a71c-3aac22f4d563/collection/17302509-78eb36ee-cd95-4a29-bec2-3a148e6de6a8?action=share&creator=17302509&source=collection_link"
	},
	"item": [
		{
			"name": "WEB",
			"item": [
				{
					"name": "Token",
					"item": [
						{
							"name": "WEB_Token_OKTA",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"JWT auth | Status code is 200 with valid response body\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.response.to.have.status(200);",
											"    pm.expect(jsonData).to.have.property(\"token_type\");",
											"    pm.expect(jsonData).to.have.property(\"access_token\");",
											"});",
											"",
											"postman.setEnvironmentVariable(\"WEB_JWT_Token\", \"Bearer \" + pm.response.json().access_token);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"/*Construct Random Dates [for availability] from 60 days to 360*/\r",
											"start = new Date(moment().add(20, 'days'));\r",
											"end = new Date(moment().add(30, 'days'));\r",
											"\r",
											"options = { day: '2-digit', month: '2-digit', year: 'numeric' };\r",
											"//setting options to overcome single digit for dates/month.\r",
											"\r",
											"checkInDate = randomDate(start, end).toLocaleDateString(\"en-US\", options);\r",
											"checkOutDate = moment(checkInDate).add(2, 'days').format('MM/DD/YYYY');\r",
											"\r",
											"postman.setEnvironmentVariable('checkInDate',  checkInDate);\r",
											"postman.setEnvironmentVariable('checkOutDate',  checkOutDate);\r",
											"\r",
											"\r",
											"postman.setEnvironmentVariable('invalidCheckInDate',   moment().add(-1, 'days').format('MM/DD/YYYY'));\r",
											"postman.setEnvironmentVariable('invalidCheckOutDate',  moment().add(-2, 'days').format('MM/DD/YYYY'));\r",
											"\r",
											"checkInDate_v2 = randomDate(start, end).toLocaleDateString(\"fr-CA\", options);\r",
											"checkInDate_v2_format = moment(checkInDate_v2).format('YYYY-MM-DD');\r",
											"checkOutDate_v2 = moment(checkInDate_v2_format).add(2, 'days').format('YYYY-MM-DD');\r",
											"\r",
											"postman.setEnvironmentVariable('checkInDate_v2',  checkInDate_v2_format);\r",
											"postman.setEnvironmentVariable('checkOutDate_v2',  checkOutDate_v2);\r",
											"\r",
											"postman.setEnvironmentVariable(\"scenarioBasedCheckInDate\", checkInDate_v2_format);\r",
											"postman.setEnvironmentVariable(\"scenarioBasedCheckOutDate\", checkOutDate_v2);\r",
											"\r",
											"postman.setEnvironmentVariable('invalidCheckInDate_v2',   moment().add(-1, 'days').format('YYYY-MM-DD'));\r",
											"postman.setEnvironmentVariable('invalidCheckOutDate_v2',  moment().add(-2, 'days').format('YYYY-MM-DD'));\r",
											"\r",
											"postman.setEnvironmentVariable(\"scenarioRIBasedCheckInDate\", checkInDate_v2_format);\r",
											"postman.setEnvironmentVariable(\"scenarioRIBasedCheckOutDate\", checkOutDate_v2);\r",
											"\r",
											"postman.setEnvironmentVariable(\"noAvailCheckInDate\", moment().add(60, 'days').format('YYYY-MM-DD'));\r",
											"postman.setEnvironmentVariable(\"noAvailCheckOutDate\", moment().add(62, 'days').format('YYYY-MM-DD'));\r",
											"\r",
											"postman.setEnvironmentVariable(\"minMaxLoscheckInDate\", moment().add(53, 'days').format('YYYY-MM-DD'));\r",
											"postman.setEnvironmentVariable(\"minMaxLosCheckOutDate\", moment().add(60, 'days').format('YYYY-MM-DD'));\r",
											"\r",
											"postman.setEnvironmentVariable(\"scenarioBasedWebCheckInDate\", checkInDate_v2_format);\r",
											"postman.setEnvironmentVariable(\"scenarioBasedWebCheckOutDate\", checkOutDate_v2);\r",
											"\r",
											"function randomDate(start, end) {\r",
											"    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()))\r",
											"}\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "grant_type",
											"value": "{{IDMS_grantType}}",
											"type": "text"
										},
										{
											"key": "client_id",
											"value": "{{IDMS_clientId}}",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "{{IDMS_secret}}",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "{{IDMS_scopes}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{identity_endpoint}}",
									"host": [
										"{{identity_endpoint}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Las-Vegas",
					"item": [
						{
							"name": "Scenario Oriented",
							"item": [
								{
									"name": "1. Transient User Success",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.1 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success :Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  //save booking object\r",
															"//   var bookings = [];\r",
															"//     for (var i = 0; i < itemizedList.length; i++) {\r",
															"//         var itemized = itemizedList[i];\r",
															"//         var booking = {};\r",
															"//         booking.date = itemized.date;\r",
															"//         booking.price = itemized.basePrice;\r",
															"//         booking.programId =itemized.programId; \r",
															"//         booking.overridePrice= -1;\r",
															"//         bookings[i] = booking;\r",
															"//     }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     \r",
															"\r",
															"\r",
															"    for(var i = 0; i < jsonData.ratePlans.length; i++) {\r",
															"      if(jsonData.ratePlans[i].startingPrice.isComp == false) {\r",
															"           postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[i].programId);\r",
															"            postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[i].rooms[0].roomTypeId);\r",
															"            itemizedList = jsonData.ratePlans[i].rooms[0].price.itemized;\r",
															"              pm.expect(0).not.equal(itemizedList.length);\r",
															"\r",
															"\r",
															"\r",
															"      }\r",
															"  }\r",
															"    var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"\r",
															"    postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"\r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															"  \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															" // set the variables for the flow",
															"",
															"    postman.setEnvironmentVariable(\"propertyId\",postman.getEnvironmentVariable(\"propertyId1\"));",
															"",
															"    postman.setEnvironmentVariable(\"JWT_Token\",postman.getEnvironmentVariable(\"WEB_JWT_Token\"));",
															"",
															"    postman.setEnvironmentVariable(\"channel\",postman.getEnvironmentVariable(\"channel-mgmri\"));",
															"",
															"    postman.setEnvironmentVariable(\"source\",postman.getEnvironmentVariable(\"source-mgmri\"));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&numAdults=2",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.2 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Before Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.3 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData.roomReservation));\r",
															"   pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-123",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.4 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Single Availability-Add Date",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.5V| RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Single Availability with adding new dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId;\r",
															"        booking.overridePrice= -1; \r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"     postman.setEnvironmentVariable(\"useCaseModifiedBookings\",JSON.stringify(bookings)); \r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');",
															"",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');",
															"",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"  postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&propertyId={{propertyId1}}&numAdults=2&checkOutDate={{modifiedCheckOutDate}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "checkOutDate",
															"value": "{{modifiedCheckOutDate}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Before Commit -Extend dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.6 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Preview Reservation with extend dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');\r",
															"\r",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');\r",
															"\r",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');\r",
															"postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate)\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{modifiedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Previewed Reservation-with extended dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.7 | RBS_ACRS_Integration |WEB-LasVegas-Transient User Success : Commit Previewed Reservation with extend dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"    \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\n        \"checkOutDate\": \"{{modifiedCheckOutDate}}\",\n        \"numAdults\": 0,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": false\n    },\n    \"propertyId\": null,\n    \"roomRequests\": [],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\",\n    \"previewReservationTotal\":{{previewReservationTotal}},\n    \"previewReservationDeposit\":{{previewDepositAmount}},\n    \"cvv\": \"123\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - SuccessAfterDatesExtend",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.8 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first name and last name after dates extend\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Single Availability-RemoveDate",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.9 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Single Availability with Removing dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId;\r",
															"        booking.overridePrice= -1; \r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"     postman.setEnvironmentVariable(\"useCaseModifiedBookings\",JSON.stringify(bookings)); \r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');",
															"",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');",
															"",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"  postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&propertyId={{propertyId1}}&numAdults=2&checkOutDate={{scenarioBasedCheckOutDate}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Before Commit -Remove dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.10 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Preview Reservation with nights reduced \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Previewed Reservation-with dates removed",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.11 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Commit Previewed Reservation with nights reduced \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\n        \"numAdults\": 0,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": false\n    },\n    \"propertyId\": null,\n    \"roomRequests\": [],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\",\n    \"previewReservationTotal\":{{previewReservationTotal}},\n    \"previewReservationDeposit\":{{previewDepositAmount}},\n    \"cvv\": \"123\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success After dates removed",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.12 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first nmae and last name after nights reduced\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Requests",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.13 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseModifyAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseModifySplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseModifyAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Before Commit -Addons added",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.14 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success: Preview Reservation with addons added \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [\"{{useCaseModifyAddOns}}\"],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Previewed Reservation-with Addons",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.15 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Commit Previewed Reservation with addons added \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\n        \"numAdults\": 0,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": false\n    },\n    \"propertyId\": null,\n    \"roomRequests\":  [\"{{useCaseModifyAddOns}}\"],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\",\n    \"previewReservationTotal\":{{previewReservationTotal}},\n    \"previewReservationDeposit\":{{previewDepositAmount}},\n    \"cvv\": \"123\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success After addons",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.16 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first name and last name after addons added\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Requests",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.17 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseModifyAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseModifySplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseModifyAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Before Commit -Addons  removed",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.18 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Preview Reservation with addons removed \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Previewed Reservation-with Addons removed",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.19 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Commit Previewed Reservation with addons removed \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\n        \"numAdults\": 0,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": false\n    },\n    \"propertyId\": null,\n    \"roomRequests\": [],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\",\n    \"previewReservationTotal\":{{previewReservationTotal}},\n    \"previewReservationDeposit\":{{previewDepositAmount}},\n    \"cvv\": \"123\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success after addons removed",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.20 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first name and last name after addons removed\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Single Availability-NewDates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.21 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success: Single Availability with adding new dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId;\r",
															"        booking.overridePrice= -1; \r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"     postman.setEnvironmentVariable(\"useCaseModifiedBookings\",JSON.stringify(bookings)); \r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');",
															"",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');",
															"",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"  postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate);",
															"",
															"modifiedCheckinDate = moment(modifiedCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"pm.globals.set(\"modifiedCheckinDate\",modifiedCheckinDate);",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?propertyId={{propertyId1}}&numAdults=2&checkInDate={{modifiedCheckOutDate}}&checkOutDate={{modifiedCheckinDate}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "checkInDate",
															"value": "{{modifiedCheckOutDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{modifiedCheckinDate}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Before Commit-New dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.22 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success: Preview Reservation with new dates \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');",
															"",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');",
															"",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate)",
															"",
															"modifiedCheckinDate = moment(modifiedCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"pm.globals.set(\"modifiedCheckinDate\",modifiedCheckinDate);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{modifiedCheckOutDate}}\",\n        \"checkOutDate\": \"{{modifiedCheckinDate}}\",\n        \"numAdults\": 1,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": true\n    },\n    \"propertyId\": null,\n    \"roomRequests\": [],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Previewed Reservation-with New dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.23 | RBS_ACRS_Integration |WEB-LasVegas-Transient User Success : Commit Previewed Reservation with new dates \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"    \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"source\": null,\n    \"channel\": null,\n    \"customerId\": 0,\n    \"mlifeNumber\": null,\n    \"customerTier\": null,\n    \"perpetualPricing\": false,\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"tripDetails\": {\n        \"checkInDate\": \"{{modifiedCheckOutDate}}\",\n        \"checkOutDate\": \"{{modifiedCheckinDate}}\",\n        \"numAdults\": 0,\n        \"numChildren\": 0,\n        \"numRooms\": 1,\n        \"numAdultsValid\": false\n    },\n    \"propertyId\": null,\n    \"roomRequests\": [],\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\",\n    \"previewReservationTotal\":{{previewReservationTotal}},\n    \"previewReservationDeposit\":{{previewDepositAmount}},\n    \"cvv\": \"123\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success after New dates",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.24 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Find reservation with cnfNumber,first name and last name with new dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"1.25 | RBS_ACRS_Integration | WEB-LasVegas-Transient User Success : Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "2. Transient Reservation Preview",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.1 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.2 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview :Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.3 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview : Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData.roomReservation));\r",
															"   pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Requests",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.4 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseModifyAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseModifySplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseModifyAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.5 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation Preview: Preview Reservation \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [\"{{useCaseModifyAddOns}}\"],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"2.6 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation Preview : Cancel Reservation by confirmationNumber\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"confirmationNumber\": \"{{useCaseConfirmationNumber}}\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "3. Transient Reservation Preview Commit-Date Change",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.1 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.2 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Before Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.3 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData.roomReservation));\r",
															"   pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Single Availability-Add Date",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.4 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Single Availability with adding new dates\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId;\r",
															"        booking.overridePrice= -1; \r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"     postman.setEnvironmentVariable(\"useCaseModifiedBookings\",JSON.stringify(bookings)); \r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');",
															"",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');",
															"",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');",
															"  postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&propertyId={{propertyId1}}&numAdults=2&checkOutDate={{modifiedCheckOutDate}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "checkOutDate",
															"value": "{{modifiedCheckOutDate}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.5 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Preview Reservation with adding night \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');\r",
															"\r",
															"oldCheckOutDate = moment(pm.variables.get(\"scenarioBasedCheckOutDate\")).format('YYYY-MM-DD');\r",
															"\r",
															"modifiedCheckOutDate = moment(oldCheckOutDate).add(2, 'days').format('YYYY-MM-DD');\r",
															"postman.setEnvironmentVariable(\"modifiedCheckOutDate\",modifiedCheckOutDate)\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{modifiedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Commit Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.6 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Commit Previewed Reservation with adding night \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"    \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{modifiedCheckOutDate}}\",\r\n        \"numAdults\": 0,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": false\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\",\r\n    \"previewReservationTotal\":{{previewReservationTotal}},\r\n    \"previewReservationDeposit\":{{previewDepositAmount}},\r\n    \"cvv\": \"123\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/commit",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"commit"
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"3.7 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview Commit-Date Change : Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "4. Transient Reservation Preview-Spl Requests",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.1 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview-Spl Requests: Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.2 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview-Spl Requests : Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold1\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.3 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation Preview-Spl Requests : Create Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold1\",JSON.stringify(jsonData));\r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"\r",
															"\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold1\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold1\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold1}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Requests Copy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.4 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation Preview-Spl Requests : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseModifyAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseModifySplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseModifyAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Reservation V2 - Add Spl Requests - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.5 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview-Spl Requests: Preview Reservation with special requests \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [\"{{useCaseModifyAddOns}}\"],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Preview Reservation V2 - Remove Spl Requests - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.6 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview-Spl Requests: Preview Reservation with special requests removed \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(confirmationNumber);\r",
															"\r",
															"    var reservationTotal = jsonData.roomReservation.ratesSummary.reservationTotal;\r",
															"    var depositAmount = jsonData.roomReservation.depositDetails.amount;\r",
															"\r",
															"    pm.expect(reservationTotal).not.eq(null);\r",
															"    pm.expect(depositAmount).not.eq(null);\r",
															"\r",
															"    postman.setEnvironmentVariable('previewReservationTotal',  reservationTotal);\r",
															"    postman.setEnvironmentVariable('previewDepositAmount',  depositAmount);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"propertyId\": null,\r\n    \"roomRequests\": [],\r\n    \"firstName\": \"Uttam\",\r\n    \"lastName\": \"Ghorai\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/preview",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"preview"
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"4.7 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation Preview-Spl Requests: Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "5. Transient Reservation create with IATA",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"5.1 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation create with IATA: Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create with IATA",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"5.2 | RBS_ACRS_Integration | WEB-LasVegas-Transient Reservation create with IATA: Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqholdIATA\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation with IATA",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"5.3 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation create with IATA: Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqholdIATA\",JSON.stringify(jsonData.roomReservation));\r",
															"   //pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqholdIATA\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    //set agent info\r",
															"    jsonData.agentInfo = JSON.parse(postman.getEnvironmentVariable(\"agentInfo\"));\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqholdIATA\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqholdIATA}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"5.4 | RBS_ACRS_Integration |WEB-LasVegas-Transient Reservation create with IATA : Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "6. Find Reservation with first and last name",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.1 | RBS_ACRS_Integration | WEB-LasVegas-Find Reservation with first and last name: Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create Copy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.2 | RBS_ACRS_Integration | WEB-LasVegas-Find Reservation with first and last name:Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success Copy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.3 | RBS_ACRS_Integration | WEB-LasVegas-Find Reservation with first and last name: Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData.roomReservation));\r",
															"   pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.4 | RBS_ACRS_Integration |WEB-LasVegas-Find Reservation with first and last name : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation Fuzzy Names V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.5 | RBS_ACRS_Integration | WEB-LasVegas-Find Reservation with first and last name: Find reservation with fuzzy names\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Utt&lastName=rai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Utt"
														},
														{
															"key": "lastName",
															"value": "rai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"6.6 | RBS_ACRS_Integration |WEB-LasVegas-Find Reservation with first and last name: Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel?confirmationNumber={{useCaseConfirmationNumber}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "7. Reservation with Add_ons",
									"item": [
										{
											"name": "Single Availability",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.1 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "perpetualPricing",
															"value": "true",
															"disabled": true
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Request and Components",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.2 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseCreateAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseCreateSplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseCreateAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId1}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create - Before Create with AddOns",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.3 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons: Hold before create with addons and special requests\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    var specialRequestsArr =[];\r",
															"    specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");\r",
															"    postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));\r",
															"    postman.setEnvironmentVariable(\"resvWithAddons\",JSON.stringify(jsonData));\r",
															"    //pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var specialRequestsArr =[];",
															"specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");",
															"",
															" ",
															"postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.4 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons : Create Transient Reservation with Profile, Booking, TripDetails, Billing ,addons and special requests \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData.roomReservation));\r",
															"   //pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     //jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqAddon\"));\r",
															"     if(postman.getEnvironmentVariable(\"resvWithAddons\")){\r",
															"    jsonData = JSON.parse(postman.getEnvironmentVariable(\"resvWithAddons\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    //set comments\r",
															"    jsonData.comments = \"non-smoking\";\r",
															"    var specialRequestsArr =[];\r",
															"    specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");\r",
															"    postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));\r",
															"    jsonData.specialRequests =specialRequestsArr\r",
															"    delete jsonData.ratesSummary;\r",
															"    delete jsonData.availableComponents;\r",
															"    // again save to same variable\r",
															"   //pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData));\r",
															"    postman.setEnvironmentVariable(\"resvWithAddons\",JSON.stringify(jsonData));\r",
															"    }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"roomReservation\": {{resvWithAddons}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.5 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons: Find reservation with cnfNumber ,first name and last name \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"  var charges = jsonData.roomReservation.chargesAndTaxes.charges;\r",
															"  pm.expect(charges[0].itemized.length).greaterThan(2);\r",
															"  pm.expect(charges[1].itemized.length).greaterThan(2);\r",
															"\r",
															"  var taxesAndFees = jsonData.roomReservation.chargesAndTaxes.taxesAndFees;\r",
															"  pm.expect(taxesAndFees[0].itemized.length).greaterThan(2);\r",
															"  pm.expect(taxesAndFees[1].itemized.length).greaterThan(2);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?firstName=Uttam&lastName=Ghorai&confirmationNumber={{useCaseConfirmationNumber}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														},
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"7.6 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons: Cancel Reservation by confirmationNumber\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "8. Reservation with Add_ons and Spl Requests",
									"item": [
										{
											"name": "Single Availability",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.1 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons and Spl Requests : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId;\r",
															"        booking.overridePrice= -1; \r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "perpetualPricing",
															"value": "true",
															"disabled": true
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}",
															"disabled": true
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Spl Request and Components",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.2 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons and Spl Requests : Get component list\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"   postman.setEnvironmentVariable(\"useCaseCreateAddOns\",null); \r",
															"    postman.setEnvironmentVariable(\"useCaseCreateSplReq\",null); \r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"      for (var i = 0; i < jsonData.length; i++) {\r",
															"        if(jsonData[i].id.includes(\"Component\") || jsonData[i].id.includes(\"COMPONENT\")){\r",
															"            postman.setEnvironmentVariable(\"useCaseCreateAddOns\",jsonData[i].id); \r",
															"        }\r",
															"    }\r",
															" \r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															" "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/availability/components?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&roomTypeId={{useCaseRoomTypeId}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"availability",
														"components"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "roomTypeId",
															"value": "{{useCaseRoomTypeId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create - Before Create with AddOns and special requests",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.3 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons and Spl Requests : Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    var specialRequestsArr =[];\r",
															"    specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");\r",
															"    postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));\r",
															"    postman.setEnvironmentVariable(\"resvWithAddons\",JSON.stringify(jsonData));\r",
															"    //pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var specialRequestsArr =[];",
															"specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");",
															"",
															" ",
															"postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.4 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons and Spl Requests : Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData.roomReservation));\r",
															"   //pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     //jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqAddon\"));\r",
															"     if(postman.getEnvironmentVariable(\"resvWithAddons\")){\r",
															"    jsonData = JSON.parse(postman.getEnvironmentVariable(\"resvWithAddons\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    //set comments\r",
															"    jsonData.comments = \"non-smoking\";\r",
															"    var specialRequestsArr =[];\r",
															"    specialRequestsArr[0] = postman.getEnvironmentVariable(\"useCaseCreateAddOns\");\r",
															"    postman.setEnvironmentVariable(\"specialRequestsArr\",JSON.stringify(specialRequestsArr));\r",
															"    jsonData.specialRequests =specialRequestsArr\r",
															"    delete jsonData.ratesSummary;\r",
															"    delete jsonData.availableComponents;\r",
															"    // again save to same variable\r",
															"   //pm.globals.set(\"reservationCreateReqAddon\",JSON.stringify(jsonData));\r",
															"    postman.setEnvironmentVariable(\"resvWithAddons\",JSON.stringify(jsonData));\r",
															"    }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"roomReservation\": {{resvWithAddons}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.5 | RBS_ACRS_Integration |  WEB-LasVegas-Reservation with Add_ons and Spl Requests : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"  var charges = jsonData.roomReservation.chargesAndTaxes.charges;\r",
															"  pm.expect(charges[0].itemized.length).greaterThan(2);\r",
															"  pm.expect(charges[1].itemized.length).greaterThan(2);\r",
															"\r",
															"  var taxesAndFees = jsonData.roomReservation.chargesAndTaxes.taxesAndFees;\r",
															"  pm.expect(taxesAndFees[0].itemized.length).greaterThan(2);\r",
															"  pm.expect(taxesAndFees[1].itemized.length).greaterThan(2);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?firstName=Uttam&lastName=Ghorai&confirmationNumber={{useCaseConfirmationNumber}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														},
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"8.6 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with Add_ons and Spl Requests : Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "9. Mlife User PO Rate",
									"item": [
										{
											"name": "Single Availability-PO",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"9.1 | RBS_ACRS_Integration | WEB-LasVegas-Mlife User PO Rate : Single Availability with Mlife and PO flag\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =0;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true&mlifeNumber={{NYNYMlifeNo}}&customerId=851266699266&includeDefaultRatePlans=true",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "perpetualPricing",
															"value": "true"
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}"
														},
														{
															"key": "customerId",
															"value": "851266699266"
														},
														{
															"key": "includeDefaultRatePlans",
															"value": "true"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"9.2 | RBS_ACRS_Integration |  Web-LasVegas-Mlife User PO Rate: Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold2\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 851266699266,\r\n    \"mlifeNumber\": \"79053229\",\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": true,\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\":{{poProfileWeb}},\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true,\r\n    \"groupCode\": false\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"9.3 | RBS_ACRS_Integration |  Web-LasVegas-Mlife User PO Rate: Mlife User PO Rate , Profile, Booking, TripDetails, Billing , Mlife and PO rate \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"//Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold2\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"poVisaCard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = \"851266699266\";\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"poProfileWeb\"));\r",
															"    //set depositPolicy\r",
															"    //depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    //jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqhold2\",JSON.stringify(jsonData));\r",
															"     //postman.setEnvironmentVariable(\"webcreatereqh\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold2}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"9.4 | RBS_ACRS_Integration | WEB-LasVegas-Mlife User PO Rate : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"9.6 | RBS_ACRS_Integration | WEB-LasVegas-Mlife User PO Rate : Cancel Reservation by confirmationNumber\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"First\",\n    \"lastName\": \"Lastverified4611\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "10. Mlife User Casino Rate",
									"item": [],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "11. Mlife User Patron Rate",
									"item": [],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "12. Mlife Reservation with Group code",
									"item": []
								},
								{
									"name": "13. Hold Release",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.1 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"for(var i = 0; i < jsonData.ratePlans.length; i++) {\r",
															"      if(jsonData.ratePlans[i].startingPrice.isComp == false) {\r",
															"           postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[i].programId);\r",
															"            postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[i].rooms[0].roomTypeId);\r",
															"            itemizedList = jsonData.ratePlans[i].rooms[0].price.itemized;\r",
															"              pm.expect(0).not.equal(itemizedList.length);\r",
															"\r",
															"\r",
															"\r",
															"      }\r",
															"  }\r",
															"    var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"\r",
															"    postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.2 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release :Hold before create\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var mlifeNumber = jsonData.profile.mlifeNo;\r",
															"    pm.expect(mlifeNumber).not.eq(null);\r",
															"    NYNYMlifeNo = JSON.parse(postman.getEnvironmentVariable(\"NYNYMlifeNo\"));\r",
															"    pm.expect(mlifeNumber).eq(NYNYMlifeNo);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqholdRelease\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"    // jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"   // jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"   // postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": {{iceNYNYCustomerId}},\r\n    \"mlifeNumber\": \"{{NYNYMlifeNo}}\",\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": {{iceProfileNYNY1}},\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true,\r\n    \"groupCode\": false\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation - Success",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqholdRelease\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqholdRelease\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.3 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Create Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     pm.globals.set(\"reservationCreateReqholdRelease\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-123",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqholdRelease}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.4 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Cancel Reservation by confirmationNumber\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.5 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Hold before create\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqholdRelease\",JSON.stringify(jsonData));\r",
															"    postman.setEnvironmentVariable(\"holdConfirmationNbr\",jsonData.confirmationNumber);\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"    // jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"   // jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"    //postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"   // postman.setEnvironmentVariable(\"holdConfirmationNbr\",jsonData.confirmationNumber);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 851266699266,\r\n    \"mlifeNumber\": \"79053229\",\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": true,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\":{{poProfileWeb}},\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true,\r\n    \"groupCode\": false\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Release Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.6 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Release Reservation \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(204);\r",
															"    pm.expect(\"No Content\").to.equal(pm.response.status);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"    postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/release?confirmationNumber={{holdConfirmationNbr}}&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"release"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{holdConfirmationNbr}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Release Reservation - Invalid Confirmation Number",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.7 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Release Reservation with Invalid Confirmation Number \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(400);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"  var errorCode = jsonData.error.code;\r",
															"  var errorMsg = jsonData.error.message;\r",
															"  pm.expect(errorCode).not.eq(null);\r",
															"  pm.expect(errorMsg).not.eq(null);\r",
															"  pm.expect(errorCode).eq(\"632-2-140\");\r",
															"  pm.expect(errorMsg).eq(\"<_reservation_not_found>[ Reservation not found ]\");\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"    // jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"    //jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"   // postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/release?confirmationNumber=1234aaa&propertyId={{propertyId1}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"release"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "1234aaa"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId1}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation After Release - Error",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"13.8 | RBS_ACRS_Integration | WEB-LasVegas-Hold Release : Release Reservation with Invalid Confirmation Number \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(400);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"  var errorCode = jsonData.error.code;\r",
															"  var errorMsg = jsonData.error.message;\r",
															"  pm.expect(errorCode).not.eq(null);\r",
															"  pm.expect(errorMsg).not.eq(null);\r",
															"  pm.expect(errorCode).eq(\"632-2-140\");\r",
															"  pm.expect(errorMsg).eq(\"<_reservation_not_found>[ Reservation not found ]\");\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"//Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqholdRelease\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"poVisaCard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = \"851266699266\";\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"poProfileWeb\"));\r",
															"    //set depositPolicy\r",
															"    //depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    //jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqholdRelease\",JSON.stringify(jsonData));\r",
															"     //postman.setEnvironmentVariable(\"webcreatereqh\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqholdRelease}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "14. Hold Reservation - enableJwb true",
									"item": [
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"14.1 | RBS_ACRS_Integration |WEB-LasVegas-Hold Reservation - enableJwb true : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"        if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =1;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															"\r",
															"  for(var i = 0; i < jsonData.ratePlans.length; i++) {\r",
															"      if(jsonData.ratePlans[i].startingPrice.isComp !== false) {\r",
															"           postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[i].programId);\r",
															"      }\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													},
													{
														"key": "enableJwb",
														"value": "true",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "perpetualPricing",
															"value": "true",
															"disabled": true
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}",
															"disabled": true
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"14.2 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation - enableJwb true : Hold Reservation\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"    // jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"   // jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"   // postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													},
													{
														"key": "enableJwb",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "15. Reservation with non PO Promo",
									"item": [
										{
											"name": "Single Availability PO False - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"15.1 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with non PO Promo : Single Availability with Checkin Date,Â Checkout Date, Property Id, Promo and PO = true and Number of Adults\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =0;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false&mlifeNumber={{NYNYMlifeNo}}&promo={{nonPOPromo}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "perpetualPricing",
															"value": "false"
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}"
														},
														{
															"key": "promo",
															"value": "{{nonPOPromo}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Before Create PO False - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"15.2 | RBS_ACRS_Integration |WEB-LasVegas-Reservation with non PO Promo:Hold before create with Non PO with Promo \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var promo = jsonData.promo;\r",
															"    pm.expect(promo).not.eq(null);\r",
															"    pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"    pm.globals.set(\"reservationCreateReqholdPoFalse\",JSON.stringify(jsonData));\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": {{iceNYNYCustomerId}},\r\n    \"mlifeNumber\": \"{{NYNYMlifeNo}}\",\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n     \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"promo\": \"{{nonPOPromo}}\",\r\n    \"guaranteeCode\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\":{{iceProfileNYNY1}},\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"15.3 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with non PO Promo :  Create non PO Reservation with Promo \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"    var promo = jsonData.roomReservation.promo;\r",
															"    pm.expect(promo).not.eq(null);\r",
															"    pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqholdPoFalse\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    jsonData.profile.mlifeNo = postman.getEnvironmentVariable(\"NYNYMlifeNo\")\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqholdPoFalse\",JSON.stringify(jsonData));\r",
															"     //postman.setEnvironmentVariable(\"webcreatereqh\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqholdPoFalse}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"15.4 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with non PO Promo : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  var promo = jsonData.roomReservation.promo;\r",
															"  pm.expect(promo).not.eq(null);\r",
															"  pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"15.5 | RBS_ACRS_Integration | WEB-LasVegas-Reservation with non PO Promo : Cancel Reservation by confirmationNumber\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "16. Hold Reservation with non PO Promo",
									"item": [
										{
											"name": "Single Availability PO False - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"16.1 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with non PO Promo: Single Availability with Checkin Date,Â Checkout Date, Property Id, Promo and PO = true and Number of Adults\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =0;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=false&mlifeNumber={{NYNYMlifeNo}}&promo={{nonPOPromo}}",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "perpetualPricing",
															"value": "false"
														},
														{
															"key": "mlifeNumber",
															"value": "{{NYNYMlifeNo}}"
														},
														{
															"key": "promo",
															"value": "{{nonPOPromo}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"16.2 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with non PO Promo: Hold Reservation with Promo \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"   var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var promo = jsonData.promo;\r",
															"    pm.expect(promo).not.eq(null);\r",
															"    pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"    pm.globals.set(\"reservationCreateReqNonPoPromo\",JSON.stringify(jsonData));\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     //jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"   // jsonData.itineraryId=\"1234\";\r",
															"    // again save to same variable\r",
															"    //postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"promo\": \"{{nonPOPromo}}\",\r\n    \"itineraryId\": \"9323708418\",\r\n    \"customerId\": \"846558855426\",\r\n    \"guaranteeCode\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1\r\n    },\r\n    \"profile\": {\r\n        \"id\": 846558855426,\r\n        \"operaId\": null,\r\n        \"firstName\": \"Dale\",\r\n        \"lastName\": \"Steyn\",\r\n        \"phoneNumbers\": null,\r\n        \"emailAddress1\": null,\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": null,\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"100 St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89102\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"title\": null,\r\n        \"mlifeNo\": {{NYNYMlifeNo}}\r\n    },\r\n    \"perpetualPricing\": true\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"16.3 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with non PO Promo:  Create non PO Reservation with Promo \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"    var promo = jsonData.roomReservation.promo;\r",
															"    pm.expect(promo).not.eq(null);\r",
															"    pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"      jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqNonPoPromo\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    jsonData.profile.mlifeNo = postman.getEnvironmentVariable(\"NYNYMlifeNo\");\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqNonPoPromo\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqNonPoPromo}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"16.4 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with non PO Promo: Find reservation with cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  var promo = jsonData.roomReservation.promo;\r",
															"  pm.expect(promo).not.eq(null);\r",
															"  pm.expect(promo).eq(postman.getEnvironmentVariable('nonPOPromo'));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"16.5 | RBS_ACRS_Integration |WEB-LasVegas-Hold Reservation with non PO Promo: Cancel Reservation by confirmationNumber\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "17. Hold Reservation with Mlife and PO Rate Plan",
									"item": [
										{
											"name": "Single Availability PO True- Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"17.1 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with Mlife and PO rateplan : Single Availability with Checkin Date,Â Checkout Date, Property Id, Promo and PO = true and Number of Adults\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =0;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings)); \r",
															"     if(jsonData.ratePlans.length>2){\r",
															"            postman.setEnvironmentVariable(\"scenarioBasedModifyProgramId\",jsonData.ratePlans[ratePlanIndex+1].programId);\r",
															"                  postman.setEnvironmentVariable(\"scenarioBasedModifyRoomId\",jsonData.ratePlans[ratePlanIndex+1].rooms[1].roomTypeId);   \r",
															"     }\r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2&perpetualPricing=true&mlifeNumber=79053229&customerId=851266699266&includeDefaultRatePlans=true",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "perpetualPricing",
															"value": "true"
														},
														{
															"key": "mlifeNumber",
															"value": "79053229"
														},
														{
															"key": "customerId",
															"value": "851266699266"
														},
														{
															"key": "includeDefaultRatePlans",
															"value": "true"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Hold Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"17.2 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with Mlife and PO rateplan: Hold Before create \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.confirmationNumber;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"     //postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"     var mlifeNumber = jsonData.profile.mlifeNo;\r",
															"     pm.expect(mlifeNumber).not.eq(null);\r",
															"     MlifeNo = 79053229;\r",
															"    pm.expect(mlifeNumber).eq(MlifeNo);\r",
															"    pm.globals.set(\"reservationCreateReqholdPO\",JSON.stringify(jsonData));\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    // //Create reservation Request and save in env\r",
															"    // // get response from charges before create saved into env\r",
															"    //  jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    // //set itinerary id\r",
															"    // jsonData.itineraryId=\"1234\";\r",
															"    // jsonData.profile.mlifeNo = postman.getEnvironmentVariable(\"NYNYMlifeNo\")\r",
															"\r",
															"    // // again save to same variable\r",
															"    // //postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"    \r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 851266699266,\r\n    \"mlifeNumber\": \"79053229\",\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": true,\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\":{{poProfileWeb}},\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true,\r\n    \"groupCode\": false\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/hold",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"hold"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"17.3 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with Mlife and PO rateplan:  Create PO Reservation \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"//Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqholdPO\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"poVisaCard\"));\r",
															"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = \"851266699266\";\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"poProfileWeb\"));\r",
															"    //set depositPolicy\r",
															"    //depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    //jsonData.depositPolicy = depositPolicy;\r",
															"    delete jsonData.availableComponents;\r",
															"    delete jsonData.ratesSummary;\r",
															"    // again save to same variable\r",
															"    pm.globals.set(\"reservationCreateReqholdPO\",JSON.stringify(jsonData));\r",
															"     //postman.setEnvironmentVariable(\"webcreatereqh\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-123"
													},
													{
														"key": "",
														"type": "text",
														"value": ""
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReqholdPO}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"17.4 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with Mlife and PO rateplan: Find reservation with cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  var mlifeNumber = jsonData.roomReservation.profile.mlifeNo;\r",
															"    pm.expect(mlifeNumber).not.eq(null);\r",
															"    NYNYMlifeNo = 79053229;\r",
															"    pm.expect(mlifeNumber).eq(NYNYMlifeNo);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=First&lastName=Lastverified4611",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "First"
														},
														{
															"key": "lastName",
															"value": "Lastverified4611"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"17.5 | RBS_ACRS_Integration | WEB-LasVegas-Hold Reservation with Mlife and PO rateplan:Cancel Reservation by confirmationNumber\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"First\",\n    \"lastName\": \"Lastverified4611\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "18. FindReservationOperaCnfNumber",
									"item": [
										{
											"name": "Find Reservation V2 OperaCnfNumber - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"18.1 | RBS_ACRS_Integration | WEB-LasVegas-Find Reservation with OperaCnfNumber : Find reservation with opera cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"  var operaCnfNbr = jsonData.roomReservation.operaConfirmationNumber;\r",
															"  pm.expect(operaCnfNbr).not.eq(null);\r",
															"  pm.expect(operaCnfNbr).eq(postman.getEnvironmentVariable(\"operaConfirmationNumber\"));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{operaConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{operaConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "19. Create Reservation in ICE and Find Reservation in Web",
									"item": [
										{
											"name": "ICE_Token_OKTA",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"JWT auth | Status code is 200 with valid response body\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.response.to.have.status(200);",
															"    pm.expect(jsonData).to.have.property(\"token_type\");",
															"    pm.expect(jsonData).to.have.property(\"access_token\");",
															"});",
															"",
															"postman.setEnvironmentVariable(\"ICE_JWT_Token\", \"Bearer \" + pm.response.json().access_token);"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');\r",
															"\r",
															"/*Construct Random Dates [for availability] from 60 days to 360*/\r",
															"start = new Date(moment().add(20, 'days'));\r",
															"end = new Date(moment().add(30, 'days'));\r",
															"\r",
															"options = { day: '2-digit', month: '2-digit', year: 'numeric' };\r",
															"//setting options to overcome single digit for dates/month.\r",
															"\r",
															"checkInDate = randomDate(start, end).toLocaleDateString(\"en-US\", options);\r",
															"checkOutDate = moment(checkInDate).add(2, 'days').format('MM/DD/YYYY');\r",
															"\r",
															"postman.setEnvironmentVariable('checkInDate',  checkInDate);\r",
															"postman.setEnvironmentVariable('checkOutDate',  checkOutDate);\r",
															"\r",
															"postman.setEnvironmentVariable('invalidCheckInDate',   moment().add(-1, 'days').format('MM/DD/YYYY'));\r",
															"postman.setEnvironmentVariable('invalidCheckOutDate',  moment().add(-2, 'days').format('MM/DD/YYYY'));\r",
															"\r",
															"checkInDate_v2 = randomDate(start, end).toLocaleDateString(\"fr-CA\", options);\r",
															"checkInDate_v2_format = moment(checkInDate_v2).format('YYYY-MM-DD');\r",
															"checkOutDate_v2 = moment(checkInDate_v2_format).add(2, 'days').format('YYYY-MM-DD');\r",
															"\r",
															"postman.setEnvironmentVariable('checkInDate_v2',  checkInDate_v2_format);\r",
															"postman.setEnvironmentVariable('checkOutDate_v2',  checkOutDate_v2);\r",
															"\r",
															"postman.setEnvironmentVariable('invalidCheckInDate_v2',   moment().add(-1, 'days').format('YYYY-MM-DD'));\r",
															"postman.setEnvironmentVariable('invalidCheckOutDate_v2',  moment().add(-2, 'days').format('YYYY-MM-DD'));\r",
															"\r",
															"postman.setEnvironmentVariable(\"scenarioBasedCheckInDate\", checkInDate_v2_format);\r",
															"postman.setEnvironmentVariable(\"scenarioBasedCheckOutDate\", checkOutDate_v2);\r",
															"\r",
															"postman.setEnvironmentVariable(\"scenarioRIBasedCheckInDate\", checkInDate_v2_format);\r",
															"postman.setEnvironmentVariable(\"scenarioRIBasedCheckOutDate\", checkOutDate_v2);\r",
															"\r",
															"postman.setEnvironmentVariable(\"noAvailCheckInDate\", moment().add(60, 'days').format('YYYY-MM-DD'));\r",
															"postman.setEnvironmentVariable(\"noAvailCheckOutDate\", moment().add(62, 'days').format('YYYY-MM-DD'));\r",
															"\r",
															"postman.setEnvironmentVariable(\"minMaxLoscheckInDate\", moment().add(53, 'days').format('YYYY-MM-DD'));\r",
															"postman.setEnvironmentVariable(\"minMaxLosCheckOutDate\", moment().add(60, 'days').format('YYYY-MM-DD'));\r",
															"\r",
															"postman.setEnvironmentVariable(\"scenarioBasedWebCheckInDate\", checkInDate_v2_format);\r",
															"postman.setEnvironmentVariable(\"scenarioBasedWebCheckOutDate\", checkOutDate_v2);\r",
															"\r",
															"function randomDate(start, end) {\r",
															"    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()))\r",
															"}\r",
															"\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"protocolProfileBehavior": {
												"disabledSystemHeaders": {}
											},
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/x-www-form-urlencoded",
														"type": "text",
														"disabled": true
													}
												],
												"body": {
													"mode": "urlencoded",
													"urlencoded": [
														{
															"key": "grant_type",
															"value": "{{IDMS_grantType}}",
															"type": "text"
														},
														{
															"key": "client_id",
															"value": "{{IDMS_clientId}}",
															"type": "text"
														},
														{
															"key": "client_secret",
															"value": "{{IDMS_secret}}",
															"type": "text"
														},
														{
															"key": "scope",
															"value": "{{IDMS_scopes}}",
															"type": "text"
														}
													]
												},
												"url": {
													"raw": "{{identity_endpoint}}",
													"host": [
														"{{identity_endpoint}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Single Availability-Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"19.1 | RBS_ACRS_Integration | WEB-LasVegas-Create Reservation in ICE and Find Reservation in Web: Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
															"  if(jsonData.ratePlans.length){\r",
															"      var ratePlanIndex =0;\r",
															"      \r",
															"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
															"  pm.expect(0).not.equal(itemizedList.length);\r",
															"  //save booking object\r",
															"  var bookings = [];\r",
															"    for (var i = 0; i < itemizedList.length; i++) {\r",
															"        var itemized = itemizedList[i];\r",
															"        var booking = {};\r",
															"        booking.date = itemized.date;\r",
															"        booking.price = itemized.basePrice;\r",
															"        booking.programId =itemized.programId; \r",
															"        booking.overridePrice= -1;\r",
															"        bookings[i] = booking;\r",
															"    }\r",
															"   \r",
															"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
															"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
															"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
															"  }else{\r",
															"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
															"  }\r",
															" \r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source-ice}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel-ice}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{ICE_JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&propertyId={{propertyId}}&numAdults=2",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"availability",
														"trip"
													],
													"query": [
														{
															"key": "checkInDate",
															"value": "{{scenarioBasedCheckInDate}}"
														},
														{
															"key": "checkOutDate",
															"value": "{{scenarioBasedCheckOutDate}}"
														},
														{
															"key": "propertyId",
															"value": "{{propertyId}}"
														},
														{
															"key": "numAdults",
															"value": "2"
														},
														{
															"key": "programId",
															"value": "RPCD-v-ADVP-d-PROP-v-MV021",
															"disabled": true
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Calculate Room Charges - Before Create Reservation Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"19.2 | RBS_ACRS_Integration | WEB-LasVegas-Create Reservation in ICE and Find Reservation in Web : Before Reservation with Profile, Booking, TripDetails, Billing and AgentInfo\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    //save response to  reservation Request in env for create reservation\r",
															"     postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
															"\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source-ice}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel-ice}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{ICE_JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"propertyId\": \"{{propertyId}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"itineraryId\": \"9323708418\",\r\n    \"customerId\": \"846558855426\",\r\n    \"guaranteeCode\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 1,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1\r\n    },\r\n    \"bookings\": {{useCaseBookings}},\r\n    \"profile\": {\r\n        \"id\": 846558855426,\r\n        \"operaId\": null,\r\n        \"firstName\": \"Uttam\",\r\n        \"lastName\": \"Ghorai\",\r\n        \"phoneNumbers\": null,\r\n        \"emailAddress1\": null,\r\n        \"emailAddress2\": null,\r\n        \"dateOfBirth\": null,\r\n        \"hgpNo\": null,\r\n        \"swrrNo\": null,\r\n        \"addresses\": [\r\n            {\r\n                \"preferred\": false,\r\n                \"street1\": \"100 St\",\r\n                \"street2\": null,\r\n                \"city\": \"Las Vegas\",\r\n                \"state\": \"NV\",\r\n                \"country\": \"US\",\r\n                \"postalCode\": \"89102\",\r\n                \"type\": \"Home\"\r\n            }\r\n        ],\r\n        \"title\": null,\r\n        \"mlifeNo\": 0\r\n    }\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation/charges",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation",
														"charges"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"19.3 | RBS_ACRS_Integration | WEB-LasVegas-Create Reservation in ICE and Find Reservation in Web: Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    pm.expect(null).not.eq(jsonData.booked);    \r",
															"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
															"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
															"    var reservationId = jsonData.roomReservation.id;\r",
															"    pm.expect(confirmationNumber).not.eq(null);\r",
															"    pm.expect(itineraryId).not.eq(null);\r",
															"    pm.expect(reservationId).not.eq(null);\r",
															"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
															"     // save response in env for premodify charges\r",
															"     postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData.roomReservation));\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"    //Create reservation Request and save in env\r",
															"    // get response from charges before create saved into env\r",
															"     jsonData = JSON.parse(postman.getEnvironmentVariable(\"reservationCreateReq\"));\r",
															"    //set itinerary id\r",
															"    jsonData.itineraryId=\"1234\";\r",
															"    //set billing\r",
															"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
															"    billing[0].amount=jsonData.depositDetails.amount;\r",
															"    jsonData.billing = billing;\r",
															"    //set profile\r",
															"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
															"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
															"    //set depositPolicy\r",
															"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
															"    jsonData.depositPolicy = depositPolicy;\r",
															"    // again save to same variable\r",
															"    postman.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source-ice}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel-ice}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-123",
														"type": "text"
													},
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"roomReservation\":{{reservationCreateReq}}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													]
												}
											},
											"response": []
										},
										{
											"name": "Find Reservation V2 - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"19.4 | RBS_ACRS_Integration | WEB-LasVegas-Create Reservation in ICE and Find Reservation in Web : Find reservation with cnfNumber,first name and last name\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"  pm.response.to.have.status(200);\r",
															"  pm.response.to.have.header(\"Content-Type\");\r",
															"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"  var jsonData = JSON.parse(pm.response.stream);\r",
															"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"  pm.expect(null).not.eq(jsonData);\r",
															"  pm.expect(0).not.equal(jsonData.length);\r",
															"\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-mgm-source",
														"type": "text",
														"value": "{{source-mgmri}}"
													},
													{
														"key": "x-mgm-channel",
														"type": "text",
														"value": "{{channel-mgmri}}"
													},
													{
														"key": "Authorization",
														"type": "text",
														"value": "{{WEB_JWT_Token}}"
													},
													{
														"key": "x-mgm-transaction-id",
														"type": "text",
														"value": "rbs-v2-integration-{{$timestamp}}"
													}
												],
												"url": {
													"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{useCaseConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v2",
														"reservation"
													],
													"query": [
														{
															"key": "confirmationNumber",
															"value": "{{useCaseConfirmationNumber}}"
														},
														{
															"key": "firstName",
															"value": "Uttam"
														},
														{
															"key": "lastName",
															"value": "Ghorai"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Cancel Reservation - Success",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"19.5 | RBS_ACRS_Integration | WEB-LasVegas-Create Reservation in ICE and Find Reservation in Web : Cancel Reservation by confirmationNumber\", function () {\r",
															"    if(pm.response.status !== 200) {\r",
															"        console.log(\"correlation-id: \" + pm.response.headers.get(\"x-mgm-correlation-id\"));\r",
															"    }\r",
															"    pm.response.to.have.status(200);\r",
															"    pm.response.to.have.header(\"Content-Type\");\r",
															"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
															"\r",
															"    var jsonData = JSON.parse(pm.response.stream);\r",
															"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
															"    pm.expect(null).not.eq(jsonData);\r",
															"    pm.expect(0).not.equal(jsonData.length);\r",
															"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
															"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-mgm-source",
														"value": "{{source}}",
														"type": "text"
													},
													{
														"key": "x-mgm-channel",
														"value": "{{channel}}",
														"type": "text"
													},
													{
														"key": "Authorization",
														"value": "{{JWT_Token}}",
														"type": "text"
													},
													{
														"key": "x-mgm-transaction-id",
														"value": "rbs-v2-integration-{{$timestamp}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{env}}/booking/room/v3/reservation/cancel",
													"host": [
														"{{env}}"
													],
													"path": [
														"booking",
														"room",
														"v3",
														"reservation",
														"cancel"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "20. Negative Test Cases",
									"item": [
										{
											"name": "Find Reservation",
											"item": [
												{
													"name": "Find Reservation V2 - Invalid Confirmation Number",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 01 : Find reservation with invalid cnfNumber\", function () {\r",
																	"  pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-2-242\");\r",
																	"  pm.expect(errorMsg).eq(\"{\\\"error\\\":{\\\"code\\\":97,\\\"title\\\":\\\"No reservation available for the input confirmation number.\\\",\\\"status\\\":404}}\");\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-mgm-source",
																"type": "text",
																"value": "{{source}}"
															},
															{
																"key": "x-mgm-channel",
																"type": "text",
																"value": "{{channel}}"
															},
															{
																"key": "Authorization",
																"type": "text",
																"value": "{{JWT_Token}}"
															},
															{
																"key": "x-mgm-transaction-id",
																"type": "text",
																"value": "rbs-v2-integration-{{$timestamp}}"
															}
														],
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation?confirmationNumber={{invalidConfirmationNumber}}&firstName=Uttam&lastName=Ghorai",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															],
															"query": [
																{
																	"key": "confirmationNumber",
																	"value": "{{invalidConfirmationNumber}}"
																},
																{
																	"key": "firstName",
																	"value": "Uttam"
																},
																{
																	"key": "lastName",
																	"value": "Ghorai"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Find Reservation V2 - No Confirmation Number",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration | WEB-LasVegas- Negative Test case 01 : Find reservation with no cnfNumber\", function () {\r",
																	"  pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-1-143\");\r",
																	"  pm.expect(errorMsg).eq(\"No confirmation number\");\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-mgm-source",
																"type": "text",
																"value": "{{source}}"
															},
															{
																"key": "x-mgm-channel",
																"type": "text",
																"value": "{{channel}}"
															},
															{
																"key": "Authorization",
																"type": "text",
																"value": "{{JWT_Token}}"
															},
															{
																"key": "x-mgm-transaction-id",
																"type": "text",
																"value": "rbs-v2-integration-{{$timestamp}}"
															}
														],
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Cancel Reservation",
											"item": [
												{
													"name": "Single Availability-Success",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |WEB-Las vegas- Negative Test case 02 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
																	"  pm.response.to.have.status(200);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
																	"  if(jsonData.ratePlans.length){\r",
																	"      var ratePlanIndex =1;\r",
																	"      \r",
																	"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
																	"  pm.expect(0).not.equal(itemizedList.length);\r",
																	"  //save booking object\r",
																	"  var bookings = [];\r",
																	"    for (var i = 0; i < itemizedList.length; i++) {\r",
																	"        var itemized = itemizedList[i];\r",
																	"        var booking = {};\r",
																	"        booking.date = itemized.date;\r",
																	"        booking.price = itemized.basePrice;\r",
																	"        booking.programId =itemized.programId; \r",
																	"        booking.overridePrice= -1;\r",
																	"        bookings[i] = booking;\r",
																	"    }\r",
																	"   \r",
																	"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
																	"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
																	"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
																	"  }else{\r",
																	"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
																	"  }\r",
																	" \r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-{{$timestamp}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v3",
																"availability",
																"trip"
															],
															"query": [
																{
																	"key": "checkInDate",
																	"value": "{{scenarioBasedCheckInDate}}"
																},
																{
																	"key": "checkOutDate",
																	"value": "{{scenarioBasedCheckOutDate}}"
																},
																{
																	"key": "numAdults",
																	"value": "2"
																},
																{
																	"key": "programId",
																	"value": "RPCD-v-ADVP-d-PROP-v-MV021",
																	"disabled": true
																},
																{
																	"key": "propertyId",
																	"value": "{{propertyId1}}"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Hold Before Create",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |WEB-Las vegas- Negative Test case: Hold before create\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"    pm.response.to.have.header(\"Content-Type\");\r",
																	"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"    var jsonData = JSON.parse(pm.response.stream);\r",
																	"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"    pm.expect(null).not.eq(jsonData);\r",
																	"    pm.expect(0).not.equal(jsonData.length);\r",
																	"    //save response to  reservation Request in env for create reservation\r",
																	"    // pm.setEnvironmentVariable(\"reservationCreateReq\",JSON.stringify(jsonData));\r",
																	"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
																	"\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "x-mgm-source",
																"type": "text",
																"value": "{{source}}"
															},
															{
																"key": "x-mgm-channel",
																"type": "text",
																"value": "{{channel}}"
															},
															{
																"key": "Authorization",
																"type": "text",
																"value": "{{JWT_Token}}"
															},
															{
																"key": "x-mgm-transaction-id",
																"type": "text",
																"value": "rbs-v2-integration-{{$timestamp}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation/hold",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation",
																"hold"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Reservation V2 - Success",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration | WEB-Las vegas- Negative Test case 02: Create Transient Reservation with Profile, Booking, TripDetails, Billing \", function () {\r",
																	"    pm.globals.set(\"variable_key\", \"variable_value\");  \r",
																	"    pm.response.to.have.status(200);\r",
																	"    pm.response.to.have.header(\"Content-Type\");\r",
																	"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"    var jsonData = JSON.parse(pm.response.stream);\r",
																	"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"    pm.expect(null).not.eq(jsonData);\r",
																	"    pm.expect(0).not.equal(jsonData.length);\r",
																	"    pm.expect(null).not.eq(jsonData.booked);    \r",
																	"    var confirmationNumber = jsonData.roomReservation.confirmationNumber;\r",
																	"    var itineraryId = jsonData.roomReservation.itineraryId;\r",
																	"    var reservationId = jsonData.roomReservation.id;\r",
																	"    pm.expect(confirmationNumber).not.eq(null);\r",
																	"    pm.expect(itineraryId).not.eq(null);\r",
																	"    pm.expect(reservationId).not.eq(null);\r",
																	"    postman.setEnvironmentVariable('useCaseConfirmationNumber',  confirmationNumber);\r",
																	"     // save response in env for premodify charges\r",
																	"     pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData.roomReservation));\r",
																	"   pm.globals.set(\"reservationModifyReqPreview\",JSON.stringify(jsonData.roomReservation));\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"    //Create reservation Request and save in env\r",
																	"    // get response from charges before create saved into env\r",
																	"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"    //set itinerary id\r",
																	"    jsonData.itineraryId=\"1234\";\r",
																	"    //set billing\r",
																	"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
																	"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
																	"    jsonData.billing = billing;\r",
																	"    //set profile\r",
																	"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
																	"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
																	"    //set depositPolicy\r",
																	"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
																	"    jsonData.depositPolicy = depositPolicy;\r",
																	"    delete jsonData.availableComponents;\r",
																	"    delete jsonData.ratesSummary;\r",
																	"    // again save to same variable\r",
																	"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-123",
																"type": "text"
															},
															{
																"key": "",
																"value": "",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															]
														}
													},
													"response": []
												},
												{
													"name": "Cancel Reservation - Success",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration | WEB-LasVegas-Negative Test case 02 : Cancel Reservation by confirmationNumber\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"    pm.response.to.have.header(\"Content-Type\");\r",
																	"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"    var jsonData = JSON.parse(pm.response.stream);\r",
																	"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"    pm.expect(null).not.eq(jsonData);\r",
																	"    pm.expect(0).not.equal(jsonData.length);\r",
																	"    var value = pm.variables.get(\"useCaseConfirmationNumber\");\r",
																	"    pm.expect(value).eq(jsonData.roomReservation.confirmationNumber);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-{{$timestamp}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v3/reservation/cancel",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v3",
																"reservation",
																"cancel"
															]
														}
													},
													"response": []
												},
												{
													"name": "Cancel Reservation - Cancelled confirmation number",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 02 : Cancel Reservation by already cancelled confirmationNumber\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-2-224\");\r",
																	"  pm.expect(errorMsg).eq(\"<_reservation_already_cancelled>[ The given reservation is already in cancelled state. ]\");\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-{{$timestamp}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"confirmationNumber\": \"{{useCaseConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v3/reservation/cancel",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v3",
																"reservation",
																"cancel"
															]
														}
													},
													"response": []
												},
												{
													"name": "Cancel Reservation - Invalid Confirmation Number",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 02 : Cancel Reservation by invalid confirmationNumber\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-2-242\");\r",
																	"  pm.expect(errorMsg).eq(\"{\\\"error\\\":{\\\"code\\\":97,\\\"title\\\":\\\"No reservation available for the input confirmation number.\\\",\\\"status\\\":404}}\");\r",
																	"\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-{{$timestamp}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"confirmationNumber\": \"{{invalidConfirmationNumber}}\",\n    \"cancellationReason\": \"Flight cancelled\",\n    \"firstName\": \"Uttam\",\n    \"lastName\": \"Ghorai\"\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v3/reservation/cancel",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v3",
																"reservation",
																"cancel"
															]
														}
													},
													"response": []
												}
											],
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										},
										{
											"name": "Create Reservation",
											"item": [
												{
													"name": "Single Availability-Success",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration | WEB-LasVegas- Negative Test case 03 : Single Availability with Checkin Date,Â Checkout Date, Property Id and Number of Adults\", function () {\r",
																	"  pm.response.to.have.status(200);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"  pm.expect(null).not.eq(jsonData.ratePlans[0]);\r",
																	"  if(jsonData.ratePlans.length){\r",
																	"      var ratePlanIndex =1;\r",
																	"      \r",
																	"    var itemizedList = jsonData.ratePlans[ratePlanIndex].rooms[0].price.itemized\r",
																	"  pm.expect(0).not.equal(itemizedList.length);\r",
																	"  //save booking object\r",
																	"  var bookings = [];\r",
																	"    for (var i = 0; i < itemizedList.length; i++) {\r",
																	"        var itemized = itemizedList[i];\r",
																	"        var booking = {};\r",
																	"        booking.date = itemized.date;\r",
																	"        booking.price = itemized.basePrice;\r",
																	"        booking.programId =itemized.programId; \r",
																	"        booking.overridePrice= -1;\r",
																	"        bookings[i] = booking;\r",
																	"    }\r",
																	"   \r",
																	"   postman.setEnvironmentVariable(\"useCaseRoomTypeId\",jsonData.ratePlans[ratePlanIndex].rooms[0].roomTypeId);\r",
																	"   postman.setEnvironmentVariable(\"useCaseProgramId\",jsonData.ratePlans[ratePlanIndex].programId);\r",
																	"     postman.setEnvironmentVariable(\"useCaseBookings\",JSON.stringify(bookings));  \r",
																	"  }else{\r",
																	"       pm.expect(1).not.equal(jsonData.ratePlans.length);\r",
																	"  }\r",
																	" \r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-{{$timestamp}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{env}}/booking/room/v3/availability/trip?checkInDate={{scenarioBasedCheckInDate}}&checkOutDate={{scenarioBasedCheckOutDate}}&numAdults=2&propertyId={{propertyId1}}",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v3",
																"availability",
																"trip"
															],
															"query": [
																{
																	"key": "checkInDate",
																	"value": "{{scenarioBasedCheckInDate}}"
																},
																{
																	"key": "checkOutDate",
																	"value": "{{scenarioBasedCheckOutDate}}"
																},
																{
																	"key": "numAdults",
																	"value": "2"
																},
																{
																	"key": "programId",
																	"value": "RPCD-v-ADVP-d-PROP-v-MV021",
																	"disabled": true
																},
																{
																	"key": "propertyId",
																	"value": "{{propertyId1}}"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Hold Before Create",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 03 : Hold Before Reservation create\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"    pm.response.to.have.header(\"Content-Type\");\r",
																	"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"    var jsonData = JSON.parse(pm.response.stream);\r",
																	"    pm.expect(\"OK\").to.equal(pm.response.status);\r",
																	"    pm.expect(null).not.eq(jsonData);\r",
																	"    pm.expect(0).not.equal(jsonData.length);\r",
																	"    //save response to  reservation Request in env for create reservation\r",
																	"   pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "x-mgm-source",
																"type": "text",
																"value": "{{source}}"
															},
															{
																"key": "x-mgm-channel",
																"type": "text",
																"value": "{{channel}}"
															},
															{
																"key": "Authorization",
																"type": "text",
																"value": "{{JWT_Token}}"
															},
															{
																"key": "x-mgm-transaction-id",
																"type": "text",
																"value": "rbs-v2-integration-{{$timestamp}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"source\": null,\r\n    \"channel\": null,\r\n    \"customerId\": 0,\r\n    \"mlifeNumber\": null,\r\n    \"customerTier\": null,\r\n    \"perpetualPricing\": false,\r\n    \"propertyId\": \"{{propertyId1}}\",\r\n    \"roomTypeId\": \"{{useCaseRoomTypeId}}\",\r\n    \"programId\": \"{{useCaseProgramId}}\",\r\n    \"guaranteeCode\": null,\r\n    \"promo\": null,\r\n    \"ignoreChannelMargins\": false,\r\n    \"customerDominantPlay\": null,\r\n    \"customerRank\": 0,\r\n    \"excludeNonOffer\": false,\r\n    \"shoppedItineraryIds\": null,\r\n    \"profile\": null,\r\n    \"tripDetails\": {\r\n        \"checkInDate\": \"{{scenarioBasedCheckInDate}}\",\r\n        \"checkOutDate\": \"{{scenarioBasedCheckOutDate}}\",\r\n        \"numAdults\": 2,\r\n        \"numChildren\": 0,\r\n        \"numRooms\": 1,\r\n        \"numAdultsValid\": true\r\n    },\r\n    \"confirmationNumber\": null,\r\n    \"redemptionCode\": null,\r\n    \"groupCode\": false,\r\n    \"roomValid\": true,\r\n    \"propertyValid\": true\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation/hold",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation",
																"hold"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Reservation V2 - Invalid Room Type",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 03 : Create Transient Reservation with invalid room \", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-1-114\");\r",
																	"  pm.expect(errorMsg).eq(\"No room type id or invalid room type provided\");\r",
																	"\r",
																	"  jsonRequestData =  JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"  jsonRequestData.roomTypeId = postman.getEnvironmentVariable(\"useCaseRoomTypeId\")\r",
																	"  pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonRequestData));\r",
																	"\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"    //Create reservation Request and save in env\r",
																	"    // get response from charges before create saved into env\r",
																	"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"    //set itinerary id\r",
																	"    jsonData.itineraryId=\"1234\";\r",
																	"    jsonData.roomTypeId=postman.getEnvironmentVariable(\"invalidRoomType\");\r",
																	"    //set billing\r",
																	"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
																	"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
																	"    jsonData.billing = billing;\r",
																	"    //set profile\r",
																	"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
																	"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
																	"    //set depositPolicy\r",
																	"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
																	"    jsonData.depositPolicy = depositPolicy;\r",
																	"    delete jsonData.availableComponents;\r",
																	"    delete jsonData.ratesSummary;\r",
																	"    // again save to same variable\r",
																	"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"type": "text",
																"value": "{{source}}"
															},
															{
																"key": "x-mgm-channel",
																"type": "text",
																"value": "{{channel}}"
															},
															{
																"key": "Authorization",
																"type": "text",
																"value": "{{JWT_Token}}"
															},
															{
																"key": "x-mgm-transaction-id",
																"type": "text",
																"value": "rbs-v2-integration-123"
															},
															{
																"key": "",
																"type": "text",
																"value": ""
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Reservation V2 - Payment Authorization Failed",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration | WEB-LasVegas- Negative Test case 03 : Create Transient Reservation with payment authorization failure \", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-2-243\");\r",
																	"  pm.expect(errorMsg).eq(\"<_payment_authorization_failed>[ Payment authorization failed ]\");\r",
																	"\r",
																	"  jsonRequestData =  JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"   billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
																	"   billing[0].payment.amount=jsonRequestData.depositDetails.amount;\r",
																	"   jsonRequestData.billing = billing;\r",
																	"   pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonRequestData));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"    //Create reservation Request and save in env\r",
																	"    // get response from charges before create saved into env\r",
																	"     jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"    //set itinerary id\r",
																	"    jsonData.itineraryId=\"1234\";\r",
																	"    //set billing\r",
																	"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
																	"    billing[0].payment.amount=jsonData.depositDetails.amount;\r",
																	"    billing[0].payment.ccToken=postman.getEnvironmentVariable(\"invalidCCToken\");\r",
																	"    jsonData.billing = billing;\r",
																	"    //set profile\r",
																	"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
																	"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
																	"    //set depositPolicy\r",
																	"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
																	"    jsonData.depositPolicy = depositPolicy;\r",
																	"    delete jsonData.availableComponents;\r",
																	"    delete jsonData.ratesSummary;\r",
																	"    // again save to same variable\r",
																	"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-123",
																"type": "text"
															},
															{
																"key": "",
																"value": "",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Reservation V2 - Invalid IATA Code",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"RBS_ACRS_Integration |  WEB-LasVegas-Negative Test case 03 : Create Transient Reservation with invalid IATA Code \", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"  pm.response.to.have.header(\"Content-Type\");\r",
																	"  pm.expect(postman.getResponseHeader(\"Content-Type\")).to.equal(\"application/json\");\r",
																	"\r",
																	"  var jsonData = JSON.parse(pm.response.stream);\r",
																	"  pm.expect(\"Bad Request\").to.equal(pm.response.status);\r",
																	"  pm.expect(null).not.eq(jsonData);\r",
																	"  pm.expect(0).not.equal(jsonData.length);\r",
																	"\r",
																	"  var errorCode = jsonData.error.code;\r",
																	"  var errorMsg = jsonData.error.message;\r",
																	"  pm.expect(errorCode).not.eq(null);\r",
																	"  pm.expect(errorMsg).not.eq(null);\r",
																	"  pm.expect(errorCode).eq(\"632-1-112\");\r",
																	"  pm.expect(errorMsg).eq(\"IATA code is not valid\");\r",
																	"\r",
																	"  jsonRequestData =  JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"  jsonRequestData.agentInfo = JSON.parse(postman.getEnvironmentVariable(\"agentInfo\"));\r",
																	"  pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonRequestData));\r",
																	"\r",
																	"});"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"    //Create reservation Request and save in env\r",
																	"    // get response from charges before create saved into env\r",
																	"      jsonData = JSON.parse(pm.globals.get(\"reservationCreateReqhold\"));\r",
																	"    //set itinerary id\r",
																	"    jsonData.itineraryId=\"1234\";\r",
																	"    //set profile\r",
																	"    jsonData.customerId = postman.getEnvironmentVariable(\"iceNYNYCustomerId\")\r",
																	"    jsonData.profile = JSON.parse(postman.getEnvironmentVariable(\"iceNYNYProfile\"));\r",
																	"    //set billing\r",
																	"    billing = JSON.parse(postman.getEnvironmentVariable(\"SingleVISACard\"));\r",
																	"    billing[0].amount=jsonData.depositDetails.amount;\r",
																	"    jsonData.billing = billing;\r",
																	"    //set depositPolicy\r",
																	"    depositPolicy = JSON.parse(postman.getEnvironmentVariable(\"depositPolicy\"));\r",
																	"    jsonData.depositPolicy = depositPolicy;\r",
																	"    jsonData.agentInfo = JSON.parse(postman.getEnvironmentVariable(\"agentInfo\"));\r",
																	"    //jsonData.agentInfo.agentId = postman.getEnvironmentVariable(\"invalidAgentId\");\r",
																	"    jsonData.agentInfo.agentId = \"qabc\";\r",
																	"    // again save to same variable\r",
																	"    pm.globals.set(\"reservationCreateReqhold\",JSON.stringify(jsonData));"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "x-mgm-source",
																"value": "{{source}}",
																"type": "text"
															},
															{
																"key": "x-mgm-channel",
																"value": "{{channel}}",
																"type": "text"
															},
															{
																"key": "Authorization",
																"value": "{{JWT_Token}}",
																"type": "text"
															},
															{
																"key": "x-mgm-transaction-id",
																"value": "rbs-v2-integration-123",
																"type": "text"
															},
															{
																"key": "",
																"value": "",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"roomReservation\":{{reservationCreateReqhold}}\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{env}}/booking/room/v2/reservation",
															"host": [
																"{{env}}"
															],
															"path": [
																"booking",
																"room",
																"v2",
																"reservation"
															]
														}
													},
													"response": []
												}
											],
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										}
									]
								}
							]
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"  // set the variables for the flow",
									"",
									"    postman.setEnvironmentVariable(\"propertyId\",postman.getEnvironmentVariable(\"NYNY_PropertyId\"));",
									"",
									"    postman.setEnvironmentVariable(\"JWT_Token\",postman.getEnvironmentVariable(\"WEB_JWT_Token\"));",
									"",
									"    postman.setEnvironmentVariable(\"channel\",postman.getEnvironmentVariable(\"channel-mgmri\"));",
									"",
									"    postman.setEnvironmentVariable(\"source\",postman.getEnvironmentVariable(\"source-mgmri\"));",
									"            //set spl req, alert, traces",
									"     postman.setEnvironmentVariable(\"roomfea\",postman.getEnvironmentVariable(\"NYNYROOMFEA\"));",
									"      postman.setEnvironmentVariable(\"splreq\",postman.getEnvironmentVariable(\"NYNYSPLREQ\"));",
									"       postman.setEnvironmentVariable(\"alerts\",postman.getEnvironmentVariable(\"NYNYalerts\"));",
									"       postman.setEnvironmentVariable(\"traces\",postman.getEnvironmentVariable(\"NYNYtraces\"));",
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}